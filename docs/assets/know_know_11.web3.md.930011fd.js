import{_ as a,o as s,c as l,R as e}from"./chunks/framework.408c4d71.js";const D=JSON.parse('{"title":"11.web3","description":"","frontmatter":{},"headers":[],"relativePath":"know/know/11.web3.md","filePath":"know/know/11.web3.md","lastUpdated":1698065569000}'),n={name:"know/know/11.web3.md"},o=e(`<h1 id="_11-web3" tabindex="-1">11.web3 <a class="header-anchor" href="#_11-web3" aria-label="Permalink to &quot;11.web3&quot;">​</a></h1><p>简介：Dapp。后端基本不需要，需要的是链端的知识</p><h2 id="_11-1-基本概念" tabindex="-1">11.1 基本概念 <a class="header-anchor" href="#_11-1-基本概念" aria-label="Permalink to &quot;11.1 基本概念&quot;">​</a></h2><ul><li>用户可以通过数字密钥或钱包登录任何平台</li><li>前端与底层区块链网络交互，区块链协议和智能合约取代特定业务逻辑的后端代码：前端-&gt;智能合约-&gt;EVM-&gt;区块链</li><li><strong>智能合约</strong> = 定义业务逻辑</li><li><strong>以太坊虚拟机</strong> = 运行环境</li><li><strong>智能合约 + 虚拟机 = 区块链</strong> = 数据库(后端) = Block(头 | 数据 | 版本号) + chain ( 合起来不可篡改 )</li></ul><p>挖矿实际就是（当一个记账的中介）：用户向比特币网络中发布交易后，需要有人将交易进行记录和确认，形成新的区块，并串联到区块链中。过程是 加上 新区块 然后 让新区块的 Hash 值等于比特币网络中给定的一个前指针。改了一个节点，那么后续就无了 这种模式</p><p>比特币 是 公钥 可以 公布 | 私钥 一定 要存起来 。这个 只能 交易</p><p>以太坊 是 可以 做一个 app</p><h3 id="_11-1-1-区块链网络层" tabindex="-1">11.1.1 区块链网络层 <a class="header-anchor" href="#_11-1-1-区块链网络层" aria-label="Permalink to &quot;11.1.1 区块链网络层&quot;">​</a></h3><ul><li>layer0:基础设置服务层-共识、执行、数据可用性这几个核心模块拆分开</li><li>layer1: 主链</li><li>layer2: 子链</li></ul><h3 id="_11-1-2-中间件" tabindex="-1">11.1.2 中间件 <a class="header-anchor" href="#_11-1-2-中间件" aria-label="Permalink to &quot;11.1.2 中间件&quot;">​</a></h3><p><strong>安全审计、预言机、索引查询服务、API 服务、数据分析、数据存储、基本的金融服务、数字身份、DAO 治理</strong>等</p><ul><li>安全审计 CertiK、OpenZeppelin</li><li>智能合约与链下真实世界的数据互通:预言机（Oracle Machine)</li><li>索引查询服务 复杂查询功能</li></ul><h3 id="_11-1-3-应用层-概念" tabindex="-1">11.1.3 应用层 | 概念 <a class="header-anchor" href="#_11-1-3-应用层-概念" aria-label="Permalink to &quot;11.1.3 应用层  | 概念&quot;">​</a></h3><ul><li>NFT(Non-Fungible Tokens):不可互换的代币.比如 BTC、ETH 这些代币都是同质代币.你的一枚 ETH 和我的一枚 ETH 本质上都是一样的</li><li>虚拟土地</li><li>虚拟音乐</li><li>品牌</li><li>借贷</li><li>交易所</li><li>游戏 (加密狗、加密兔、加密青蛙 ). 打破这种局面的是一款叫 Fomo3D 的游戏，这是一款公开、透明、去中心化的博彩资金盘游戏-</li></ul><h3 id="_11-1-4-访问层" tabindex="-1">11.1.4 访问层 <a class="header-anchor" href="#_11-1-4-访问层" aria-label="Permalink to &quot;11.1.4 访问层&quot;">​</a></h3><p>这一层里主要包括钱包、浏览器、聚合器：MetaMask 是最被广泛支持的钱包之一</p><ul><li>软件钱包：MetaMask</li><li>硬件钱包：SafePal 可通过 USB 即插即用。在使用最广泛的硬件钱包是 Ledger 和 Trezor</li><li>多签钱包：</li></ul><h3 id="_11-1-5-加密方式-原理" tabindex="-1">11.1.5 加密方式 原理 <a class="header-anchor" href="#_11-1-5-加密方式-原理" aria-label="Permalink to &quot;11.1.5  加密方式 原理&quot;">​</a></h3><p>sha256 ： hash 值不能够反向推导</p><h3 id="_11-1-6-区块链-共识机制-合约" tabindex="-1">11.1.6 区块链 共识机制 = 合约 <a class="header-anchor" href="#_11-1-6-区块链-共识机制-合约" aria-label="Permalink to &quot;11.1.6 区块链 共识机制 =  合约&quot;">​</a></h3><ul><li>pow :工作量证明机制- 比特币 prove of work</li><li>pos：权益证明机制- 以太坊</li><li>poa：权益认证技术</li></ul><h3 id="_11-1-7-以太币-的-网址" tabindex="-1">11.1.7 以太币 的 网址 <a class="header-anchor" href="#_11-1-7-以太币-的-网址" aria-label="Permalink to &quot;11.1.7 以太币 的  网址&quot;">​</a></h3><p>wei</p><p>goerli 官网</p><p>opensea ： nft 交易龙头</p><p>defi 交易所 ：</p><p>metamask：在线钱包工具</p><h3 id="_11-1-8-钱包-概念" tabindex="-1">11.1.8 钱包 概念 <a class="header-anchor" href="#_11-1-8-钱包-概念" aria-label="Permalink to &quot;11.1.8  钱包 概念&quot;">​</a></h3><p>钱包 存的是 账户信息</p><p>冷钱包 | 热钱包 ：冷钱包 是 可以离线，热钱包不用离线</p><p>非对称 加密</p><h3 id="_11-1-9-key-store-助记词" tabindex="-1">11.1.9 key store | 助记词 <a class="header-anchor" href="#_11-1-9-key-store-助记词" aria-label="Permalink to &quot;11.1.9 key store |  助记词&quot;">​</a></h3><p>每一个 账号 都会有 助记词 。一个 助记词 可以 生成 很多 私钥 —— 一个私钥 对应 一个 账户</p><h3 id="_11-1-10-项目空投-资产获取" tabindex="-1">11.1.10 项目空投(资产获取) <a class="header-anchor" href="#_11-1-10-项目空投-资产获取" aria-label="Permalink to &quot;11.1.10  项目空投(资产获取)&quot;">​</a></h3><p>Testnet（测试网）:如果你从龙头那里得到了免费的Goerli ETH，并想把它换成真正的可以交易的以太坊（ETH）代币，那么你可以通过Testnet Bridge来实现（即LayerZero Testnet Bridge)</p><p>Faucets（水龙头）:完成简单的任务，用户就可获得小额加密货币奖励</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://goerlifaucet.com/</span></span></code></pre></div><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://goerli-faucet.mudit.blog/</span></span></code></pre></div><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://goerli-faucet.pk910.de/</span></span></code></pre></div><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://faucet.quicknode.com/drip</span></span></code></pre></div><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://www.allthatnode.com/faucet/ethereum.dsrv</span></span></code></pre></div><h3 id="_11-1-1-solidity-是啥" tabindex="-1">11.1.1 solidity 是啥 <a class="header-anchor" href="#_11-1-1-solidity-是啥" aria-label="Permalink to &quot;11.1.1  solidity 是啥&quot;">​</a></h3><h2 id="_11-2-helloworld" tabindex="-1">11.2 helloworld <a class="header-anchor" href="#_11-2-helloworld" aria-label="Permalink to &quot;11.2 helloworld&quot;">​</a></h2><p>一个钱包 有 多个 账号 ，每一个 账号 都有 私钥 和 地址。可以 通过这玩意挖矿</p><h3 id="_11-2-1-下载依赖" tabindex="-1">11.2.1 下载依赖 <a class="header-anchor" href="#_11-2-1-下载依赖" aria-label="Permalink to &quot;11.2.1  下载依赖&quot;">​</a></h3><p>浏览器 扩展下载 metamask</p><h3 id="_11-2-2-操作" tabindex="-1">11.2.2 操作 <a class="header-anchor" href="#_11-2-2-操作" aria-label="Permalink to &quot;11.2.2 操作&quot;">​</a></h3><p>创造 密码 。助记词</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">flower apology length power favorite once say track radio wreck begin pepper</span></span></code></pre></div><p>稍微记一下 账户</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">0x00108b591E0f68ff1b91018984194a5ca31Daa98</span></span></code></pre></div><h3 id="_11-2-3-进入-账户" tabindex="-1">11.2.3 进入 账户 <a class="header-anchor" href="#_11-2-3-进入-账户" aria-label="Permalink to &quot;11.2.3  进入 账户&quot;">​</a></h3><p>左上角和网络勾线 显示 测试网络</p><p>以太坊挖矿地址</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://www.tokenpocket.pro</span></span></code></pre></div><p>goerli 挖矿地址</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://goerli-faucet.pk910.de</span></span></code></pre></div><p>账户详情 输入密码 可以导出私钥</p><h3 id="_11-2-4-转账" tabindex="-1">11.2.4 转账 <a class="header-anchor" href="#_11-2-4-转账" aria-label="Permalink to &quot;11.2.4 转账&quot;">​</a></h3><p>将地址 复制一下，然后点击发送，然后输入地址。这过程会收取 gas(燃料费)</p><h3 id="_11-2-5-私钥保存" tabindex="-1">11.2.5 私钥保存 <a class="header-anchor" href="#_11-2-5-私钥保存" aria-label="Permalink to &quot;11.2.5  私钥保存&quot;">​</a></h3><p>账户 选择 一个账户，然后旁边 点击 账户详情</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">3a4e675de55ae5878f9f911e8cd83b1530bcd5865cf2708c1400a72d5e072189</span></span></code></pre></div><p>这个可以保存</p><h3 id="_11-2-6-地址转化" tabindex="-1">11.2.6 地址转化 <a class="header-anchor" href="#_11-2-6-地址转化" aria-label="Permalink to &quot;11.2.6 地址转化&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://www.infura.io/zh</span></span></code></pre></div><p>注册后 找到 key 里面 的 ethereum</p><p>选中 主网 是 goerli （格尔利）。最好用websocket。下面的就是已经 转化过的</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">wss://goerli.infura.io/ws/v3/1377bce310774552ac7b4eca1d4caa0e</span></span></code></pre></div><h2 id="_11-3-web3-js" tabindex="-1">11.3. Web3.js <a class="header-anchor" href="#_11-3-web3-js" aria-label="Permalink to &quot;11.3. Web3.js&quot;">​</a></h2><ul><li><p>您可以使用web3.js**来读取和写入以太坊区块链，而不是使用 ajax 从 Web 服务器读取和写入数据</p></li><li><p>各种高级语言编写的程序可以使用web3 interface来与EVM交互，在此过程中使用是的JSON-RPC（一个无状态且轻量级的远程过程调用（RPC）传送协议，其传递内容透过 JSON 为主）</p></li></ul><h3 id="_11-3-0-包简述" tabindex="-1">11.3.0 包简述 <a class="header-anchor" href="#_11-3-0-包简述" aria-label="Permalink to &quot;11.3.0 包简述&quot;">​</a></h3><ul><li>web3.eth : 用于以太坊区块链和 智能合约的 交互</li><li>web3.util :包含一些辅助方法</li><li>web3.shh :协议通信</li></ul><h3 id="_11-3-1-获取区块" tabindex="-1">11.3.1. 获取区块 <a class="header-anchor" href="#_11-3-1-获取区块" aria-label="Permalink to &quot;11.3.1. 获取区块&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> web3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Web3</span><span style="color:#A6ACCD;">(Web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">givenProvider </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://localhost:8545</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockNumber</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(console</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_11-3-2-获取余额" tabindex="-1">11.3.2. 获取余额 <a class="header-anchor" href="#_11-3-2-获取余额" aria-label="Permalink to &quot;11.3.2. 获取余额&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> web3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Web3</span><span style="color:#A6ACCD;">(Web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">givenProvider </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://localhost:8545</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBalance</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0x6b5aC29F2a2Ca361BE4fed60862C51D2F853842a</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromWei</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ether</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h3 id="_11-3-3-交易" tabindex="-1">11.3.3. 交易 <a class="header-anchor" href="#_11-3-3-交易" aria-label="Permalink to &quot;11.3.3. 交易&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendTransaction</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0x342361F2a62A5820A396e277481d104C0fc3CC60</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">to</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0xeF2233172704bbD3A02D35E9d5620a3053F1E2E2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toWei</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ether</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="_11-4-solidity-教程" tabindex="-1">11.4 solidity 教程 <a class="header-anchor" href="#_11-4-solidity-教程" aria-label="Permalink to &quot;11.4  solidity 教程&quot;">​</a></h2><p>基本文件结构:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">contracts </span><span style="color:#676E95;font-style:italic;">// 智能合约 后缀都是sol</span></span>
<span class="line"><span style="color:#A6ACCD;">	artifacts </span><span style="color:#676E95;font-style:italic;">// 部署后自动生成的</span></span>
<span class="line"><span style="color:#A6ACCD;">scripts </span><span style="color:#676E95;font-style:italic;">// 部署的流程文件</span></span>
<span class="line"><span style="color:#A6ACCD;">test </span><span style="color:#676E95;font-style:italic;">// 编写测试脚本的地方</span></span></code></pre></div><h3 id="_11-4-1-helloworld" tabindex="-1">11.4.1 helloworld <a class="header-anchor" href="#_11-4-1-helloworld" aria-label="Permalink to &quot;11.4.1  helloworld&quot;">​</a></h3><p>remix可以在线编写</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">solidity</span></span>
<span class="line"><span style="color:#FFCB6B;">contract</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hello{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div>`,85),p=[o];function t(r,c,i,h,d,y){return s(),l("div",null,p)}const u=a(n,[["render",t]]);export{D as __pageData,u as default};
