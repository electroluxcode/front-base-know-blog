<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2.JavaScript基础 | Electrolux博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/front-base-know-blog/assets/css/0.styles.1c0757d4.css" as="style"><link rel="preload" href="/front-base-know-blog/assets/js/app.d5da5b09.js" as="script"><link rel="preload" href="/front-base-know-blog/assets/js/3.a15d85cc.js" as="script"><link rel="preload" href="/front-base-know-blog/assets/js/1.704023bf.js" as="script"><link rel="preload" href="/front-base-know-blog/assets/js/16.d1ddf066.js" as="script"><link rel="prefetch" href="/front-base-know-blog/assets/js/10.4e1c0929.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/11.24fcf056.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/12.ab575625.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/13.a07ac810.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/14.3dd10ad1.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/15.e3c89f55.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/17.f77bfead.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/18.9fa3fe2a.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/19.19111f48.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/20.101e2711.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/21.770a9d86.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/22.4a46157b.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/23.6227cde1.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/24.c076c053.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/25.9d87662e.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/26.890f392c.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/27.1d710ebe.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/28.c5b738fc.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/29.5000b97e.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/30.86147b09.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/31.fab993f1.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/4.11c729f5.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/5.41f9e3e8.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/6.de585bd1.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/7.234840ab.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/8.f66853e2.js"><link rel="prefetch" href="/front-base-know-blog/assets/js/9.73cab69e.js">
    <link rel="stylesheet" href="/front-base-know-blog/assets/css/0.styles.1c0757d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Electrolux博客</h3> <p class="description" data-v-59e6cb88></p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/front-base-know-blog/" class="home-link router-link-active"><!----> <span class="site-name">Electrolux博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-base-know-blog/know/1.html.html" class="nav-link"><i class="undefined"></i>
  html
</a></div><div class="nav-item"><a href="/front-base-know-blog/know/2.javascript基础.html" class="nav-link"><i class="undefined"></i>
  js基础
</a></div><div class="nav-item"><a href="/front-base-know-blog/know/5.css.html" class="nav-link"><i class="undefined"></i>
  css
</a></div><div class="nav-item"><a href="/front-base-know-blog/know/八股/1.计算机网络.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      常用
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-base-know-blog/know/7.算法.html" class="nav-link"><i class="undefined"></i>
  设计模式 | 算法
</a></li><li class="dropdown-item"><!----> <a href="/front-base-know-blog/know/10.性能优化.html" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>21</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/front-base-know-blog/know/1.html.html" class="nav-link"><i class="undefined"></i>
  html
</a></div><div class="nav-item"><a href="/front-base-know-blog/know/2.javascript基础.html" class="nav-link"><i class="undefined"></i>
  js基础
</a></div><div class="nav-item"><a href="/front-base-know-blog/know/5.css.html" class="nav-link"><i class="undefined"></i>
  css
</a></div><div class="nav-item"><a href="/front-base-know-blog/know/八股/1.计算机网络.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      常用
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-base-know-blog/know/7.算法.html" class="nav-link"><i class="undefined"></i>
  设计模式 | 算法
</a></li><li class="dropdown-item"><!----> <a href="/front-base-know-blog/know/10.性能优化.html" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-base-know-blog/know/1.html.html" class="sidebar-link">1.HTML（浏览器机制）</a></li><li><a href="/front-base-know-blog/know/2.0javascript基础.html" class="active sidebar-link">2.JavaScript基础</a></li><li><a href="/front-base-know-blog/know/2.1.javascript基础.html" class="sidebar-link">2.1 JavaScript基础</a></li><li><a href="/front-base-know-blog/know/2.2.ts.html" class="sidebar-link">2.2. ts</a></li><li><a href="/front-base-know-blog/know/2.9.javascript代码输出题.html" class="sidebar-link">2.9 JavaScript代码输出题</a></li><li><a href="/front-base-know-blog/know/3.javascript-es6.html" class="sidebar-link">3.JavaScript-es6</a></li><li><a href="/front-base-know-blog/know/4.javascript-手写题.html" class="sidebar-link">4.JS手写题</a></li><li><a href="/front-base-know-blog/know/5.css.html" class="sidebar-link">5.CSS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>八股</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-base-know-blog/know/八股/1.计算机网络.html" class="sidebar-link">1.计算机网络</a></li><li><a href="/front-base-know-blog/know/八股/2.Git.html" class="sidebar-link">2.Git</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-base-know-blog/know/框架/1.vue.html" class="sidebar-link">1.vue | 主流方案对比</a></li><li><a href="/front-base-know-blog/know/框架/2.react.html" class="sidebar-link">2.react</a></li><li><a href="/front-base-know-blog/know/框架/3.ssr.html" class="sidebar-link">3.ssr</a></li><li><a href="/front-base-know-blog/know/框架/4.微前端.html" class="sidebar-link">4.微前端</a></li><li><a href="/front-base-know-blog/know/框架/5.vue3.html" class="sidebar-link">5.vue3</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>优化 | 工程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-base-know-blog/know/优化/3.性能优化和安全.html" class="sidebar-link">3.性能优化与安全</a></li><li><a href="/front-base-know-blog/know/优化/6.webpack.html" class="sidebar-link">6.webpack</a></li><li><a href="/front-base-know-blog/know/优化/7.算法.html" class="sidebar-link">7.实用算法 | 设计模式</a></li><li><a href="/front-base-know-blog/know/优化/10.性能优化.html" class="sidebar-link">10.性能优化</a></li><li><a href="/front-base-know-blog/know/优化/11.组件库构造.html" class="sidebar-link">11.组件库构建</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">2.JavaScript基础</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="_2-javascript基础"><a href="#_2-javascript基础" class="header-anchor">#</a> 2.JavaScript基础</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_2-1基础知识">2.1基础知识</a><ul><li><a href="#_2-1-0-基础概念">2.1.0 基础概念</a></li><li><a href="#_2-1-1-线程与进程-开销和内存空间-js为什么是单线程的-避免dom带来的同步问题">2.1.1.线程与进程(开销和内存空间)？JS为什么是单线程的？(避免dom带来的同步问题)</a></li><li><a href="#_2-1-2-var-let-const">2.1.2.var,let,const</a></li><li><a href="#_2-1-3-null和undefined">2.1.3.null和undefined</a></li><li><a href="#_2-1-4-原生v-for">2.1.4.原生v-for</a></li><li><a href="#_2-1-5-闭包-2点-引用-访问上层">2.1.5.闭包(2点)-引用+访问上层</a></li><li><a href="#_2-1-6-this">2.1.6.this</a></li><li><a href="#_2-1-7-柯里化">2.1.7.柯里化</a></li><li><a href="#_2-1-8-深浅拷贝">2.1.8.深浅拷贝</a></li><li><a href="#_2-1-9-作用域链-执行上下文">2.1.9.作用域链   | 执行上下文</a></li><li><a href="#_2-1-10-原型链">2.1.10.原型链</a></li><li><a href="#_2-1-11-继承">2.1.11.继承</a></li><li><a href="#_2-1-12-symbol">2.1.12.Symbol</a></li><li><a href="#_2-1-13-new操作符-手写">2.1.13.new操作符 | 手写</a></li><li><a href="#_2-1-14-函数式编程">2.1.14.函数式编程</a></li><li><a href="#_2-1-15-时间复杂度">2.1.15. 时间复杂度</a></li><li><a href="#_2-1-16-事件循环-3个概念">2.1.16.事件循环(3个概念)</a></li><li><a href="#_2-1-17">2.1.17 &amp;&amp; |  ||</a></li><li><a href="#_2-1-18-bind-apply-call">2.1.18  bind  | apply |  call</a></li><li><a href="#_2-1-19-类型判断-类型转化">2.1.19 类型判断 |  类型转化</a></li><li><a href="#_2-1-24-set-get-attribute">2.1.24 set | get | Attribute</a></li><li><a href="#_2-1-25-事件委托-addeventlistener">2.1.25  事件委托 | addEventListener</a></li><li><a href="#_2-1-27-babel-和-polyfill和core-js">2.1.27 babel 和 polyfill和core.js</a></li><li><a href="#_2-1-28-懒加载">2.1.28 懒加载</a></li><li><a href="#_2-1-30-async-await-版本差异-node-的事件循环比较">2.1.30 async | await | 版本差异 | node 的事件循环比较</a></li><li><a href="#_2-1-31-可视区域判断-dom-偏移-intersectionobserver-scolltop-clientheight-offsetheight">2.1.31 可视区域判断 | dom 偏移 | IntersectionObserver | scolltop | clientheight | offsetheight</a></li><li><a href="#_2-1-32-监听dom元素-mutationobserver">2.1.32 监听dom元素 | MutationObserver</a></li><li><a href="#_2-1-33-arguments">2.1.33 arguments</a></li><li><a href="#_2-1-34-true-false-nan-判空-易错">2.1.34 true | false | nan | 判空  | 易错</a></li><li><a href="#_2-1-35-postmessage">2.1.35  postmessage</a></li><li><a href="#_2-1-36-垃圾回收">2.1.36 垃圾回收</a></li><li><a href="#_2-1-37-innertext-textcontent-nodevalue">2.1.37  innerText |  textContent |  nodeValue</a></li><li><a href="#_2-1-38-geo-api">2.1.38  geo api</a></li><li><a href="#_2-1-39-正则">2.1.39  正则</a></li><li><a href="#_2-1-40-正则中使用变量">2.1.40 正则中使用变量</a></li></ul></li><li><a href="#_2-2-快问快答">2.2 快问快答</a></li><li><a href="#_2-3-项目中js高级">2.3 项目中js高级</a><ul><li><a href="#_2-3-1-js引入-css-js">2.3.1 js引入 css js</a></li><li><a href="#_2-3-2-禁止自动滑动">2.3.2 禁止自动滑动</a></li><li><a href="#_2-3-3-canvas成图片">2.3.3 canvas成图片</a></li><li><a href="#_2-3-4-iframe-postmessage">2.3.4 iframe | postmessage</a></li></ul></li><li><a href="#_2-4-webgl">2.4 webgl</a><ul><li><a href="#_2-4-1-webgl基础">2.4.1 webgl基础</a></li><li><a href="#_2-4-2-实操">2.4.2 实操</a></li></ul></li><li><a href="#_2-5-js工程化概述">2.5 js工程化概述</a><ul><li><a href="#_2-5-1-polyfill-实操">2.5.1 polyfill 实操</a></li></ul></li><li><a href="#_2-6-加载字体">2.6 加载字体</a></li><li><a href="#_2-7-tc39-会议">2.7 tc39 会议</a></li></ul></div><p></p> <h2 id="_2-1基础知识"><a href="#_2-1基础知识" class="header-anchor">#</a> 2.1基础知识</h2> <h3 id="_2-1-0-基础概念"><a href="#_2-1-0-基础概念" class="header-anchor">#</a> 2.1.0 基础概念</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">0.</span>
<span class="token constant">ECMA</span>：一个组织
<span class="token constant">TC39</span><span class="token operator">:</span><span class="token constant">ECMA</span>下面的技术委员会
<span class="token literal-property property">stage0（strawman）</span><span class="token operator">:</span>任何<span class="token constant">TC39</span>的成员都可以提交。
stage1（proposal），进入此阶段就意味着这一提案被认为是正式的了，需要对此提案的场景与<span class="token constant">API</span>进行详尽的描述。
一共是<span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span> <span class="token punctuation">.</span> <span class="token number">5</span>个阶段。 到达最后一个阶段就进行发布了
常用的 
<span class="token operator">--</span><span class="token number">0.1</span> Top<span class="token operator">-</span>level <span class="token keyword">await</span>（stage <span class="token number">4</span>）：支持最顶层使用<span class="token keyword">await</span>
<span class="token operator">--</span><span class="token number">0.2</span> Temporal（stage <span class="token number">3</span>）：时间处理函数标准化 函数
<span class="token operator">--</span><span class="token number">0.3</span>（stage3） at ： 负索引
<span class="token operator">--</span><span class="token number">0.4</span> Record <span class="token operator">&amp;</span> Tuple（stage2） ：Record类似于对象，Tuple类似于数组
<span class="token operator">--</span><span class="token number">0.5</span> <span class="token function">Decorators</span> <span class="token punctuation">(</span>stage <span class="token number">2</span><span class="token punctuation">)</span>：装饰器
<span class="token operator">--</span><span class="token number">0.6</span> Set <span class="token function">Methods</span> <span class="token punctuation">(</span>stage <span class="token number">2</span><span class="token punctuation">)</span>：基于交集<span class="token operator">/</span>并集<span class="token operator">/</span>差集创建新的Set的方法
<span class="token operator">--</span><span class="token number">0.7</span> orient<span class="token operator">-</span>error编程的一系列接口
<span class="token operator">--</span><span class="token number">0.8</span> Pipeline Operator：管道操作符（<span class="token operator">|</span><span class="token operator">&gt;</span>） <span class="token function">如doubleNumber</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>会变为number <span class="token operator">|</span><span class="token operator">&gt;</span> doubleNumber的形式

<span class="token number">1.</span>作用域又叫做执行上下文，全局上下文就是window对象
<span class="token number">2.6</span><span class="token literal-property property">个基础数据类型</span><span class="token operator">:</span>undefine number string boolean symbol  <span class="token keyword">null</span>。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_2-1-1-线程与进程-开销和内存空间-js为什么是单线程的-避免dom带来的同步问题"><a href="#_2-1-1-线程与进程-开销和内存空间-js为什么是单线程的-避免dom带来的同步问题" class="header-anchor">#</a> 2.1.1.线程与进程(开销和内存空间)？JS为什么是单线程的？(避免dom带来的同步问题)</h3> <p>线程是CPU调度的基本单位，本质是指令序列。进程是操作系统分配资源的单位。二者区别在于线程执行开销小但不利于资源管理和保护，进程则相反。本质区别在于线程没有自己的内存空间，而进程有。
为避免频繁操作DOM带来的同步问题，设计成单线程。后来为了利用多核CPU计算能力，HTML5提出Web Worker标准，允许js脚本创建多个线程，但是子线程由主线程控制且不得操作DOM，所以JS单线程的本质没有改变。</p> <h3 id="_2-1-2-var-let-const"><a href="#_2-1-2-var-let-const" class="header-anchor">#</a> 2.1.2.var,let,const</h3> <p>var函数作用域，let块作用域，const也是块作用域，但定义后不可重新赋地址</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>注意<span class="token keyword">const</span>比较特殊
<span class="token keyword">var</span> 变量提升。只有声明没有赋值

<span class="token literal-property property">暂时性死区</span><span class="token operator">:</span><span class="token keyword">let</span> <span class="token keyword">const</span>没有声明变量却引入。实例化到被创造的过程。因为只要有<span class="token keyword">let</span> <span class="token keyword">const</span><span class="token literal-property property">就会优先实例化。根本原因</span><span class="token operator">:</span>变量的生命先于使用。（块级作用域）

<span class="token keyword">var</span>会变成window的值。

<span class="token keyword">const</span>只保证变量名指向的地址不变，并不保证该地址的数据不变，所以将一个复合类型的变量声明为常量必须非常小心。
例如以下：
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 报错，[1,2,3]与[]不是同一个地址</span>
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 不报错，变量名arr指向的地址不变，只是数据改变</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// 块级作用域的东西</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span> <span class="token punctuation">;</span>
<span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出 function</span>
    <span class="token comment">// 重要 块级作用域中 function 之后的就只能在这个块级作用域了，出不了外面</span>
    a <span class="token operator">=</span> <span class="token number">30</span>
    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;aaaa&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出 30</span>
    a <span class="token operator">=</span> <span class="token number">40</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出 40</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出30 。如果是 let a = 20 那么这里</span>
<span class="token comment">//safari 是 40</span>
<span class="token comment">//google 和 firefox 是 30</span>


<span class="token comment">//---------------------------------------------</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span> <span class="token punctuation">;</span>
<span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token number">30</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出30</span>
    a <span class="token operator">=</span> <span class="token number">40</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出40</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 输出40</span>



</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="_2-1-3-null和undefined"><a href="#_2-1-3-null和undefined" class="header-anchor">#</a> 2.1.3.null和undefined</h3> <p>布尔值都是false，都是基础类型，undefined代表未定义的值，null表示被认为设置为空的值，例如释放一个对象的内存用null，或者获取一个不存在的dom对象。</p> <p>{} 不是空对象</p> <h3 id="_2-1-4-原生v-for"><a href="#_2-1-4-原生v-for" class="header-anchor">#</a> 2.1.4.原生v-for</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token comment">//自定义字符串,用于拼接标签</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;textArr&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string-property property">&quot;grade&quot;</span><span class="token operator">:</span><span class="token string">'一等品'</span><span class="token punctuation">,</span><span class="token string-property property">&quot;mix&quot;</span><span class="token operator">:</span><span class="token string">'20%'</span><span class="token punctuation">,</span><span class="token string-property property">&quot;number&quot;</span><span class="token operator">:</span><span class="token string">'200'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string-property property">&quot;grade&quot;</span><span class="token operator">:</span><span class="token string">'准一等品'</span><span class="token punctuation">,</span><span class="token string-property property">&quot;mix&quot;</span><span class="token operator">:</span><span class="token string">'20%'</span><span class="token punctuation">,</span><span class="token string-property property">&quot;number&quot;</span><span class="token operator">:</span><span class="token string">'200'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>data<span class="token punctuation">.</span>textArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    str1 <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h1&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>textArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>grade<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h1&gt;</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> str1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-1-5-闭包-2点-引用-访问上层"><a href="#_2-1-5-闭包-2点-引用-访问上层" class="header-anchor">#</a> 2.1.5.闭包(2点)-引用+访问上层</h3> <p><strong>--1.外层函数作用于对象能保留下来是因为被内层函数对象的作用域引用者，无法释放。</strong></p> <p><strong>--2.能访问上级函数作用域中的变量（哪怕上级函数上下文已经销毁）</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>



</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-1-6-this"><a href="#_2-1-6-this" class="header-anchor">#</a> 2.1.6.this</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>记前三个：我理解是用来数据绑定
<span class="token number">1</span><span class="token punctuation">.</span>this 绑定在函数 运行时 所在的对象<span class="token punctuation">,</span>谁调用指向谁
<span class="token number">2.</span>事件绑定的<span class="token keyword">this</span>指向事件源
<span class="token number">3.</span>构造函数的<span class="token keyword">this</span>指向实例化对象
<span class="token number">4.</span>定时器的<span class="token keyword">this</span>指向window

通过bind，call，apply来改变<span class="token keyword">this</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>全局作用域中指向window，箭头函数没有自己的this（所以不能用作构造函数）
优先级：new绑定&gt;显式绑定&gt;隐式绑定。</p> <p>this有四种，第一种 默认绑定</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>运行在非严格模式的独立空间里面,this指向全局对象。
运行在严格模式下，this会绑定到undefined
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第二种：隐式绑定（租房子）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>当函数引用有上下文对象时。对象属性引用链中只有上一层或者说最后一层在调用中起作用
隐式绑定规则会把函数中的<span class="token keyword">this</span>绑定到这个上下文对象
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token literal-property property">foo</span><span class="token operator">:</span>foo
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>

<span class="token comment">//小心一下隐式丢失这一种情况，像上面这一种情况如果把最后两行变成.参数传递也会有这种情况.主要的原因很有可能是被同级的window对象夺走了参数</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fun<span class="token operator">=</span>obj<span class="token punctuation">.</span>foo
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//3</span>



<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token function-variable function">foo</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">6</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
obj<span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">6</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>第三种:显式绑定（买房子）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">通过call</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> 或者 <span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>方法。第一个参数是一个对象，在调用函数时将这个对象绑定到<span class="token keyword">this</span>。因为直接指定<span class="token keyword">this</span>的绑定对象，称之为显示绑定。

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2  调用foo时强制把foo的this绑定到obj上</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>第四种：new绑定</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>第一步:创造空对象    第二步：赋值prototype   第三步：赋值this
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-1-7-柯里化"><a href="#_2-1-7-柯里化" class="header-anchor">#</a> 2.1.7.柯里化</h3> <p>指一个函数接收函数A并且返回一个函数B，函数B来处理A的剩余参数。例如f(x,y)=x^y，固定x=2就得到f(y)=2^y这样的新的函数。具体的代码放在 4.javascript-手写题.md里面</p> <h3 id="_2-1-8-深浅拷贝"><a href="#_2-1-8-深浅拷贝" class="header-anchor">#</a> 2.1.8.深浅拷贝</h3> <p>在拷贝对象或数组时，深浅拷贝不一样。浅拷贝拷贝对象A时，会先创建一个新对象B，如果对象A的某个属性对应的值是一个对象C，那么只复制对象C的引用，不会递归往下复制，对象C还是共享同一块内存，所以修改对象A中的对象C会改变新对象B的对象C。但深拷贝会另外创造一个一模一样的对象C2，新对象C2跟原对象C不共享内存，修改对象C不会改变新对象C2。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepclone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// step1:过滤function</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!=</span><span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
    <span class="token comment">// step2:初始变量</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// step3 :</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
       arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepclone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr
<span class="token punctuation">}</span>


<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">first</span><span class="token operator">:</span><span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">fun</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">deepclone</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token function">deepclone</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
b<span class="token punctuation">.</span>name<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span>




<span class="token comment">// 该方法简单但有bug，因为JSON.stringify会忽略值为undefined、symbol的属性</span>
<span class="token keyword">function</span> <span class="token function">deepClone2</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_2-1-9-作用域链-执行上下文"><a href="#_2-1-9-作用域链-执行上下文" class="header-anchor">#</a> 2.1.9.作用域链   | 执行上下文</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>变量提升把变量或者是<span class="token keyword">function</span>的声明提升到开头的行为。所以我们会用 块级作用域，<span class="token keyword">let</span> 和 <span class="token keyword">const</span>来防止变量提升

原理是 预编译 和 执行
<span class="token operator">--</span><span class="token number">1.</span>作用域一共有三个 全局作用域、函数作用域，块级作用域。函数的 <span class="token punctuation">{</span> <span class="token punctuation">}</span>，才能形成作用域，比如
<span class="token comment">// 比如这个对象的 { } 就不是作用域</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span> 
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'xiao ming'</span> <span class="token comment">// 对象中的属性，也不是局部变量</span>
<span class="token punctuation">}</span>
一些特殊例子
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 会输出 undefined</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 会输出 undefined</span>

<span class="token operator">--</span><span class="token number">2.</span>块级作用域和<span class="token punctuation">{</span><span class="token punctuation">}</span> 合并 示例
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// Uncaught ReferenceError: x is not defined</span>

<span class="token operator">--</span><span class="token number">2.</span>作用域链：作用域链是如果在当前作用域下找不到该变量，那就去上层作用域去寻找，直到全局作用域，如果还找不到会报错

为什么在对象内部访问自己的属性不能直接用xxx，为什么 <span class="token keyword">this</span> 指向的不是 window
<span class="token keyword">const</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
xiaoming<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>

因为只有函数的大括号<span class="token punctuation">{</span><span class="token punctuation">}</span>才能形成作用域，

<span class="token operator">--</span><span class="token number">3</span> 说明会先在内部找，接下来回到外部找
<span class="token operator">--</span><span class="token number">3.1</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">56</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token comment">//var a =12</span>
<span class="token punctuation">}</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//输出56</span>

<span class="token operator">--</span><span class="token number">3.2</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">56</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span><span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//输出 undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>作用域是变量和函数生效的区域，分为全局作用域、函数作用域和块级作用域
，如果在非严格模式下会在全局隐式地声明该变量</p> <h3 id="_2-1-10-原型链"><a href="#_2-1-10-原型链" class="header-anchor">#</a> 2.1.10.原型链</h3> <p>__proto__属性的作用就是当访问一个对象的属性时，如果该对象内部不存在这个属性，那么就会去它的__proto__属性所指向的那个对象（父对象）里找，一直找，直到__proto__属性的终点null，再往上找就相当于在null上取值，会报错。通过__proto__属性将对象连接起来的这条链路即我们所谓的原型链</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>prototype（只能没有实例的时候用）、__proto__与constructor（只能<span class="token keyword">class</span>）
我们需要牢记两点：
<span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>__proto__和constructor属性是对象所独有的；
<span class="token operator">--</span><span class="token number">2.</span> prototype属性是函数所独有的，因为函数也是一种对象，所以函数也拥有__proto__和constructor属性。
<span class="token operator">--</span><span class="token number">3.</span>区别主要是 
<span class="token keyword">new</span>之前：prototype的属性会得到继承。__proto__的属性不会得到继承
<span class="token keyword">new</span>之后：prototype的属性设置不了（会报错）。__proto__的属性随便设置，设置的也是改变目前的prototype

<span class="token comment">// a.__proto__.__proto__.__proto__ 可能会报错 在报错的最后一次返回的是null</span>
原型链的尽头是object的隐式原型<span class="token keyword">null</span>
<span class="token comment">//a.constructor.constructor.constructor 永远不报错。最后返回的是native code</span>

<span class="token keyword">let</span> <span class="token function-variable function">test1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'function'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> protest<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
protest<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'function1'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">test2</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;class&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> ex2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ex2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;ss&quot;</span> <span class="token comment">//这个没有问题</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>每个对象都有一个原型对象，当访问一个对象的属性时，不仅会在该对象上搜寻，还会去该对象的原型上搜索。在我们new 对象的时候，第一步是创造内存空间，接下来是原型挂载。最后是</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'tom'</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Kevin'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Daisy'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Daisy</span>
<span class="token keyword">delete</span> person<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Kevin</span>

<span class="token comment">// 同样的基于原型链的属性查找还有constructor,funciotn原型对象Person是有constructor属性的，但是实例对象person没有，但是可以打印出person.constructor</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//只有函数才有prototype原型属性，protype是一个对象。实例可以共享函数的原型。当前实例对象找不到属性就回去原型里面去找属性。默认有一个construct</span>

<span class="token comment">//JavaScript的prototype是仅函数拥有, 而对象也拥有prototype是源于其constructor属性所拥有的prototype.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-1-11-继承"><a href="#_2-1-11-继承" class="header-anchor">#</a> 2.1.11.继承</h3> <p>一般基于原型链或者构造函数继承，用的最多的是综合前两者的组合继承，最优的是寄生组合继承</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">1.</span>原型链继承（但无法多继承，也不能向构造函数传参）
<span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">'Annie'</span>
   
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">--</span><span class="token number">2.</span>构造函数继承（父类原型链上的参数不能访问，但可以多继承，也可以向构造函数传参）
<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">People</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
<span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span> <span class="token comment">// 打印一次People</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Tom</span>
student<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">'apple'</span><span class="token punctuation">)</span> <span class="token comment">// 访问不到父类原型链上的参数，报错没有该函数</span>

<span class="token operator">--</span><span class="token number">3.</span><span class="token constant">ES6</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> 继承

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>2.instanceof
用法：object instanceof constructor</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token comment">// [object xxxxx]是string类型</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 							<span class="token comment">// [object Number]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span> 						<span class="token comment">// [object String]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> 					<span class="token comment">// [object Boolean]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> 			<span class="token comment">// [object Undefined]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> 					<span class="token comment">// [object Null]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 			<span class="token comment">// [object Symbol]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [object Object]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 				<span class="token comment">// [object Array]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 		<span class="token comment">// [object Date]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> 						<span class="token comment">// [object RegExp]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-1-12-symbol"><a href="#_2-1-12-symbol" class="header-anchor">#</a> 2.1.12.Symbol</h3> <p>常用来创建唯一不变的属性名，<code>Symbol()</code>用来创建symbol类型的变量，注意不是<code>new Symbol()</code>，传入的参数没啥用只能用来标识提醒程序员。使用<code>getOwnPropertySymbols()</code>可获得Symbol属性。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 这里必须配合字面量创建属性</span>
obj<span class="token punctuation">[</span>sym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>sym<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>sym<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-1-13-new操作符-手写"><a href="#_2-1-13-new操作符-手写" class="header-anchor">#</a> 2.1.13.new操作符 | 手写</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   <span class="token keyword">new</span>用来创建一个给定构造函数的实例对象
   流程： 
   <span class="token number">1.</span>声明空对象 
   <span class="token number">2.</span>如果是数组，那么就挂载原型（将空对象的__proto__指向构造函数的prototype）。如果是方法，那么调用apply方法 
   <span class="token number">3.</span>赋值给<span class="token keyword">this</span>
<span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">Funct<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Funct</span><span class="token punctuation">.</span>prototype
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">Funct</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> res <span class="token operator">:</span> obj
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-1-14-函数式编程"><a href="#_2-1-14-函数式编程" class="header-anchor">#</a> 2.1.14.函数式编程</h3> <p>函数式编程是一种编程范式，主要的编程范式还有命令式编程（一步步告诉怎么做）和声明式编程（sql语句，html，css）
函数式编程更强调程序执行的结果而非执行过程，倡导基于输入输出的集合转换关系。
缺点是过度包装带来的性能下降，资源占用压力也大，容易陷入递归陷阱</p> <h3 id="_2-1-15-时间复杂度"><a href="#_2-1-15-时间复杂度" class="header-anchor">#</a> 2.1.15. 时间复杂度</h3> <p>快速排序时间复杂度为nlogn，</p> <p>1 3</p> <h3 id="_2-1-16-事件循环-3个概念"><a href="#_2-1-16-事件循环-3个概念" class="header-anchor">#</a> 2.1.16.事件循环(3个概念)</h3> <p><strong>调用栈(call stack)、消息队列(Message Queue)和微任务队列(Microtask Queue)</strong></p> <p>**1.**Event Loop 开始时，从上到下，遇到函数调用时，会把函数压入调用栈中（被压入的函数叫做<code>帧(frame)</code>，当函数返回后，会从调用栈中弹出。直到被清空</p> <p>**2. **微任务队列（Microtask Queue）：使用 Promise、Async/Await 创建的异步操作会入队到微任务队列中</p> <p><strong>3</strong>.调用栈被清空清空执行。异步操作进入消息队列（settimeout，setinterval）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1.事件循环定义：我们先把代码分成同步代码（console.log）和异步代码(setimeout，promise的then)。同步代码我们交给js（执行栈）去执行（因为这玩意是单线程的），异步环境我们交给宿主环境去执行。异步环境条件满足之后我们从宿主环境推送到任务队列。执行栈里面的任务执行完了，我们就会把任务队列（里面有宏任务队列和微任务队列）的任务推进执行栈。执行栈执行完就去任务队列看看，这个就叫做事件循环</span>

<span class="token comment">//2.异步任务分成宏任务和微任务。宏任务由宿主环境组成(浏览器，node)。微任务由js引擎组成。优先级：同步代码-》微任务异步promise.then，await，nexttick也是。后面的也是-》宏任务异步.</span>

<span class="token comment">//3.我看的疑问：为什么宏任务微任务是微任务优先：其实上面的说法忽略了一个条件。所有的任务都是在一个大的script里面产生的</span>

<span class="token comment">//4.promise本身是同步的但是里面的.then是异步的</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//下面代码不会被阻止。会调用.then函数，先进先出原则</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我&quot;</span><span class="token punctuation">)</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;是&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 我 是 2 （第一个同步）| 3（第一个异步，then先进先出）|  s（第二个同步）  | 4 （这里是由于resolve只能一个then，不继续惯着了）| b 5</span>
<span class="token comment">//先同步，resolve中的也是同步（resolve作为参数不阻塞）。 </span>
<span class="token comment">//先到then的</span>


<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//下面代码不会被阻止。会调用.then函数，先进先出原则</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 4 3 6  注意一下 1是最先执行的</span>


<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolved</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resolved<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4 1 3 5 2 这里主要是 一开始的 p 是会执行的</span>



<span class="token comment">//----------------------------------------------------------</span>
<span class="token comment">// 最后加上await 总结一下,</span>
<span class="token literal-property property">step1</span><span class="token operator">:</span>先是 
同步任务 <span class="token operator">|</span> 
resolve <span class="token operator">|</span> 
resolve 的任务同时执行例如 <span class="token function">resolve</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token function">。如果说resolve</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">那么就先执行后面的如果后面是resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">那么就先输出55，接下来执行resolve</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>的<span class="token punctuation">.</span>then <span class="token operator">|</span> 
<span class="token keyword">await</span> 的处理
v8引擎之前 执行 <span class="token keyword">await</span> 后，会把后面的代码注册到微任务队列。
v8引擎之后 执行<span class="token keyword">await</span> 后，直接跳出函数，在本轮循环的最后被执行 <span class="token operator">|</span>
注意，这些一些遇到微任务直接丢进去 微任务队列。然后遵循 先进先出的 原则
<span class="token literal-property property">step2</span><span class="token operator">:</span> 异步的微任务 （先进先出）
step3：宏任务
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h3 id="_2-1-17"><a href="#_2-1-17" class="header-anchor">#</a> 2.1.17 &amp;&amp; |  ||</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>&amp;&amp;返回第二个有效值，||返回第一个有效值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-1-18-bind-apply-call"><a href="#_2-1-18-bind-apply-call" class="header-anchor">#</a> 2.1.18  bind  | apply |  call</h3> <p>bind是绑定（用于click）</p> <p>call后面+单个</p> <p>apply是+list（块）</p> <h3 id="_2-1-19-类型判断-类型转化"><a href="#_2-1-19-类型判断-类型转化" class="header-anchor">#</a> 2.1.19 类型判断 |  类型转化</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>类型判断
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token number">1.</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>：装箱操作
会对非<span class="token keyword">null</span> 或 <span class="token keyword">undefined</span>的数据类型进行装箱操作（不然会直接报错），然后去找出对象【Symbol<span class="token punctuation">.</span>toStringTag】 属性值，还有可能要遍历原型链，取到的值作为 tag<span class="token punctuation">,</span> 然后返回 <span class="token string">&quot;【object &quot;</span> <span class="token operator">+</span> tag <span class="token operator">+</span> <span class="token string">&quot;】&quot;</span> 形式的字符串

<span class="token number">2.</span> <span class="token keyword">instanceof</span>
返回<span class="token boolean">true</span>

<span class="token number">3</span><span class="token punctuation">.</span>typeof
返回用来说明变量的数据类型（但是array，<span class="token keyword">null</span>等复杂对象一律返回object），但是<span class="token keyword">null</span>并不是object格式的

<span class="token number">4</span><span class="token punctuation">.</span>isArray

<span class="token number">5</span><span class="token punctuation">.</span>nan！<span class="token operator">=</span>nan结果是<span class="token boolean">true</span>

类型转化
<span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>boolean
布尔值转化<span class="token operator">-</span>用boolean直接转换：这里注意一下如果object<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>，那么这个object的给boolean判断的话是<span class="token boolean">true</span>的。真正的空对象会用<span class="token keyword">null</span>来表示。所以空对象返回的是<span class="token boolean">true</span>。

<span class="token operator">--</span><span class="token number">2</span><span class="token punctuation">.</span>toString
<span class="token literal-property property">字符串转化</span><span class="token operator">:</span>tostring，String直接转化。tostring不支持<span class="token keyword">null</span>和<span class="token keyword">undefined</span>（会报错），string这个构造函数可以直接返回<span class="token keyword">null</span>和<span class="token keyword">undefined</span>的字面量

注意 
<span class="token number">145.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>会报错
<span class="token function">但是</span><span class="token punctuation">(</span><span class="token number">145</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toString不会报错

<span class="token operator">--</span><span class="token number">3</span><span class="token punctuation">.</span>number
数值转化：number这个构造函数也是宽容，原理是用valueof先试一下，得不到在调用tostring类型。parseint parsefloat就没有那么宽容了。如果失败会用nan兜底。一个奇怪的点是如果number（空对象）结果是nan

<span class="token keyword">typeof</span> <span class="token keyword">typeof</span> <span class="token keyword">typeof</span> <span class="token keyword">null</span> 的结果是什么
从右边到左边执行：<span class="token keyword">typeof</span> <span class="token keyword">typeof</span> <span class="token keyword">typeof</span> <span class="token keyword">null</span> 结果是 <span class="token keyword">typeof</span> <span class="token keyword">null</span> 先变成<span class="token string">'object'</span>然后再变成<span class="token string">'string'</span><span class="token punctuation">.</span>答案也是 <span class="token string">'string'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="_2-1-24-set-get-attribute"><a href="#_2-1-24-set-get-attribute" class="header-anchor">#</a> 2.1.24 set | get | Attribute</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content_views'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content_views'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-1-25-事件委托-addeventlistener"><a href="#_2-1-25-事件委托-addeventlistener" class="header-anchor">#</a> 2.1.25  事件委托 | addEventListener</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>事件委托主要用来<span class="token number">1.</span>减少内存消耗，<span class="token number">2.</span>动态绑定事件。减少重复工作
我们一般说的事件委托其实是addEventListener
第一个是我们的事件：比如click，mouseover
第二个是方法
第三个是模式。<span class="token boolean">true</span>是事件在捕获阶段执行。事件在冒泡阶段执行，默认是<span class="token boolean">false</span><span class="token punctuation">,</span>就是默认在冒泡的时候执行
<span class="token comment">//默认冒泡是 标签的onclick事件-&gt;document.onclick-&gt;addEventListener</span>
<span class="token comment">//为true的时候 addEventListener-&gt;标签的onclick事件-&gt;document.onclick 　</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>事件传播的三个阶段</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1、捕获阶段：事件从window对象自上而下向目标节点传播的阶段；
2、目标阶段：真正的目标节点正在处理事件的阶段；
3、冒泡阶段：事件从目标节点自下而上向window对象传播的阶段。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>示例</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.baidu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.baidu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>搜狐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dsadas&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">// alert((e || window).event.target.innerHTML)</span>
            <span class="token comment">// 阻止冒泡方法  不让事件向documen上蔓延。</span>
            <span class="token comment">// 只激活内部函数,顶部的onclick就不会执行力</span>
            e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment">// 阻止默认行为</span>
            e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="事件大全"><a href="#事件大全" class="header-anchor">#</a> 事件大全</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>鼠标事件
click 当用户点击某个对象时调用的事件句柄。
contextmenu 在用户点击鼠标右键打开上下文菜单时触发
dblclick 当用户双击某个对象时调用的事件句柄。
mousedown 鼠标按钮被按下。
mouseenter 当鼠标指针移动到元素上时触发。
mouseleave 当鼠标指针移出元素时触发
mousemove 鼠标被移动。
mouseover 鼠标移到某元素之上。
mouseout 鼠标从某元素移开。
mouseup 鼠标按键被松开。

键盘事件
属性 描述 <span class="token constant">DOM</span>
keydown 某个键盘按键被按下。
keypress 某个键盘按键被按下并松开。
keyup 某个键盘按键被松开。

框架<span class="token operator">/</span>对象（Frame<span class="token operator">/</span>Object）事件
abort <span class="token function">图像的加载被中断。</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span>
beforeunload 该事件在即将离开页面（刷新或关闭）时触发
error <span class="token function">在加载文档或图像时发生错误。</span> <span class="token punctuation">(</span> <span class="token punctuation">,</span> 和 <span class="token punctuation">)</span>
hashchange 该事件在当前 <span class="token constant">URL</span> 的锚部分发生修改时触发。
load 一张页面或一幅图像完成加载。
pageshow 该事件在用户访问页面时触发
pagehide 该事件在用户离开当前网页跳转到另外一个页面时触发
resize 窗口或框架被重新调整大小。
scroll 当文档被滚动时发生的事件。
unload <span class="token function">用户退出页面。</span> <span class="token punctuation">(</span> 和 <span class="token punctuation">)</span>

表单事件
blur 元素失去焦点时触发
change <span class="token function">该事件在表单元素的内容改变时触发</span><span class="token punctuation">(</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span> 和 <span class="token punctuation">)</span>
focus 元素获取焦点时触发
focusin 元素即将获取焦点是触发
focusout 元素即将失去焦点是触发
input 元素获取用户输入是触发
reset 表单重置时触发
search <span class="token function">用户向搜索域输入文本时触发</span> <span class="token punctuation">(</span>

剪贴板事件
copy 该事件在用户拷贝元素内容时触发
cut 该事件在用户剪切元素内容时触发
paste 该事件在用户粘贴元素内容时触发

打印事件
afterprint 该事件在页面已经开始打印，或者打印窗口已经关闭时触发
beforeprint 该事件在页面即将开始打印时触发

拖动事件
drag 该事件在元素正在拖动时触发
dragend 该事件在用户完成元素的拖动时触发
dragenter 该事件在拖动的元素进入放置目标时触发
dragleave 该事件在拖动元素离开放置目标时触发
dragover 该事件在拖动元素在放置目标上时触发
dragstart 该事件在用户开始拖动元素时触发
drop 该事件在拖动元素放置在目标区域时触发

多媒体（Media）事件
abort 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）终止加载时触发。
canplay 事件在用户可以开始播放视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）时触发。
canplaythrough 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）可以正常播放且无需停顿和缓冲时触发。
durationchange 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）的时长发生变化时触发。
emptied The event occurs when the current playlist is empty
ended 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）播放结束时触发。
error 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）数据加载期间发生错误时触发。
loadeddata 事件在浏览器加载视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）当前帧时触发触发。
loadedmetadata 事件在指定视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）的元数据加载后触发。
loadstart 事件在浏览器开始寻找指定视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）触发。
pause 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）暂停时触发。
play 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）开始播放时触发。
playing 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）暂停或者在缓冲后准备重新开始播放时触发。
progress 事件在浏览器下载指定的视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）时触发。
ratechange 事件在视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）的播放速度发送改变时触发。
seeked 事件在用户重新定位视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）的播放位置后触发。
seeking 事件在用户开始重新定位视频<span class="token operator">/</span>音频（audio<span class="token operator">/</span>video）时触发。
stalled 事件在浏览器获取媒体数据，但媒体数据不可用时触发。
suspend 事件在浏览器读取媒体数据中止时触发。
timeupdate 事件在当前的播放位置发送改变时触发。
volumechange 事件在音量发生改变时触发。
waiting 事件在视频由于要播放下一帧而需要缓冲时触发。

动画事件
animationend 该事件在 <span class="token constant">CSS</span> 动画结束播放时触发
animationiteration 该事件在 <span class="token constant">CSS</span> 动画重复播放时触发
animationstart 该事件在 <span class="token constant">CSS</span> 动画开始播放时触发

过渡事件
transitionend 该事件在 <span class="token constant">CSS</span> 完成过渡后触发。

其他事件
message <span class="token function">该事件通过或者从对象</span><span class="token punctuation">(</span>WebSocket<span class="token punctuation">,</span> Web Worker<span class="token punctuation">,</span> Event Source 或者子 frame 或父窗口<span class="token punctuation">)</span>接收到消息时触发
online 该事件在浏览器开始在线工作时触发。
offline 该事件在浏览器开始离线工作时触发。
popstate 该事件在窗口的浏览历史（history 对象）发生改变时触发。 event occurs when the window’s history changes
show 该事件当

元素在上下文菜单显示时触发
storage 该事件在 Web <span class="token function">Storage</span><span class="token punctuation">(</span><span class="token constant">HTML</span> <span class="token number">5</span> Web 存储<span class="token punctuation">)</span>更新时触发
toggle 该事件在用户打开或关闭 元素时触发
wheel 该事件在鼠标滚轮在元素上下滚动时触发
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br></div></div><h3 id="_2-1-27-babel-和-polyfill和core-js"><a href="#_2-1-27-babel-和-polyfill和core-js" class="header-anchor">#</a> 2.1.27 babel 和 polyfill和core.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>Babel 能为你做的事情：
1.语法转换
2.通过 Polyfill 方式在目标环境中添加缺失的特性 (通过 @babel/polyfill 模块)
那么他是咋做到的呢？这就不得不提大名鼎鼎的AST了-parsing(解析)、transforming（转化）、printing（生成）-黑海谈判。日本和美国谈判。但是只有荷兰翻译


polyfill(补丁/垫片) 的定义， 他就是把当前浏览器不支持的方法通过用支持的方法重写来获得支持。

core.js 和polyfill类似。每年会出现新的qpi，像：es6的Promise，Set或者es7数组新提供的方法includes，这些新加入的api，就引出一个词“”polyfill“”(垫片/补丁)，就是社区上提供的一段代码，让我们在不兼容某些新特性的浏览器上，使用该新特性。新功能转换为大部分现代浏览器都可以支持运行的api补丁包集合。


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-1-28-懒加载"><a href="#_2-1-28-懒加载" class="header-anchor">#</a> 2.1.28 懒加载</h3> <p>insertsectionobsserver：减少reflow
基础类型存在栈内存，引用类型存在堆内存
赋值跟浅拷贝的区别：前者共享内存。后者复制第一层</p> <h3 id="_2-1-30-async-await-版本差异-node-的事件循环比较"><a href="#_2-1-30-async-await-版本差异-node-的事件循环比较" class="header-anchor">#</a> 2.1.30 async | await | 版本差异 | node 的事件循环比较</h3> <p>用同步的方法实现异步操作（指的是.then）。async返回一个promise，await后面接promise那么就是等待返回结果。async只能和await合并使用。但是浏览器调试await可以单独使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">1.</span>原理
async<span class="token operator">/</span><span class="token keyword">await</span>：原理是包裹一层生成器调用next方法<span class="token operator">+</span>promise。

<span class="token operator">--</span><span class="token number">2.</span>版本差异
v8引擎之前 执行 <span class="token keyword">await</span> 后，会把后面的代码注册到微任务队列。
v8引擎之后 执行<span class="token keyword">await</span> 后，直接跳出函数，在本轮循环的最后被执行

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//3</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end'</span><span class="token punctuation">)</span> <span class="token comment">//3</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end1'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//2</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span>
<span class="token comment">// script start  (这里容易，就是普通输出)</span>
<span class="token comment">// async2 end  (这里容易，就是普通await 的 值，这里promise.then是微任务跳过)</span>
<span class="token comment">// Promise	（resolve 是同步任务执行）</span>
<span class="token comment">// script end （同步任务的最后一步）</span>
<span class="token comment">// async2 end1 （异步任务 的 第一个微任务）</span>
<span class="token comment">// promise1 （异步任务 的 第二个微任务）</span>
<span class="token comment">// async1 end （？？？ await 後面的会在本轮循环的最后进行执行，但是再慢也比settimeout快）</span>
<span class="token comment">// setTimeout</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>两者最主要的区别在于浏览器中的微任务是在每个相应的宏任务中执行的，而nodejs中的微任务是在不同阶段之间执行的。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-1-31-可视区域判断-dom-偏移-intersectionobserver-scolltop-clientheight-offsetheight"><a href="#_2-1-31-可视区域判断-dom-偏移-intersectionobserver-scolltop-clientheight-offsetheight" class="header-anchor">#</a> 2.1.31 可视区域判断 | dom 偏移 | IntersectionObserver | scolltop | clientheight | offsetheight</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1</span><span class="token punctuation">.</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight获取屏幕可视窗口高度。
<span class="token number">2.</span> ele<span class="token punctuation">.</span>offsetTop  元素相对于文档顶部的距离  <span class="token comment">//document.querySelector('#user-content').offsetTop  </span>
<span class="token number">3</span><span class="token punctuation">.</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop 滚动条滚动的距离  通过上面三个能够知道我们我们是否能够看到视图<span class="token punctuation">.</span>但是这样子监听会照成回流。（判断元素位置我们可以通过<span class="token number">3</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token number">2</span>）
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">clientHeight</span><span class="token punctuation">(</span>可见区域高）<span class="token operator">+</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span>用户滑动的距离<span class="token punctuation">)</span>  <span class="token operator">&gt;</span> 观测元素<span class="token punctuation">.</span><span class="token function">offsetTop</span><span class="token punctuation">(</span>元素距离顶部的距离<span class="token punctuation">)</span>

<span class="token number">4</span><span class="token punctuation">.</span>IntersectionObserver 



<span class="token keyword">const</span> io <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token parameter">ioes</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ioes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">ioe</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> el <span class="token operator">=</span> ioe<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">const</span> intersectionRatio <span class="token operator">=</span> ioe<span class="token punctuation">.</span>intersectionRatio<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>intersectionRatio <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> intersectionRatio <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;能看见元素&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;看不见&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    el<span class="token punctuation">.</span>onload <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> io<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> imgs <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#user-content--getboundingclientrect'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
imgs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> io<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>利用offsetTop和scrollTop和浏览器高度做比较
getBoundingClientRect返回相关位置属性</p> <p>总结一共2个：scrollTop（字面意思） clientTop（局部正常基础少一点东西或者不正常，大局正常） offsetTop（正常）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">1.</span>固定（dom上常用属性）
clientWidth  <span class="token comment">//1.1屏幕（不固定）的宽高</span>
width  <span class="token comment">//1.2屏幕（固定）宽高</span>
scrollTop <span class="token comment">// 1.3滚动宽高</span>

border<span class="token operator">-</span>box下面，这三个一样， <span class="token comment">//1.3元素宽高</span>
<span class="token function">offsetHeight</span><span class="token punctuation">(</span>元素本身的宽<span class="token punctuation">)</span> <span class="token operator">|</span> scrollHeight（元素高度<span class="token operator">-</span>border<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span>溢出来的元素高） <span class="token operator">|</span> clientHeight（元素高度<span class="token operator">-</span>border<span class="token operator">*</span><span class="token number">2</span>）

如果要是是content<span class="token operator">-</span>box<span class="token comment">//1.3元素宽高</span>
<span class="token function">offsetHeight</span><span class="token punctuation">(</span>元素<span class="token operator">+</span>padding<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span>border<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> scrollHeight（元素高度<span class="token operator">+</span>padding<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span>溢出来的元素高<span class="token operator">-</span>overflow<span class="token operator">-</span>y<span class="token operator">:</span> auto） <span class="token operator">|</span> clientHeight（元素<span class="token operator">+</span>padding<span class="token operator">*</span><span class="token number">2</span>）

<span class="token comment">//1.4元素距离顶部的距离</span>
offsetTop（正常大全）
clientTop<span class="token comment">//顶部边框值</span>
<span class="token literal-property property">scrollTop</span><span class="token operator">:</span>内部的滚动效果<span class="token comment">//document.querySelector(&quot;.box&quot;).scrollTop=100。（可以用来做页面滚动效果）</span>

<span class="token operator">--</span><span class="token number">2.</span>事件：
clientX <span class="token comment">// 2.1以可见区域的左上角为原点</span>
pageX <span class="token comment">// 2.2以页面本身的body为原点</span>
offsetX（左内边框） <span class="token operator">|</span> windowX （相对于屏幕）<span class="token comment">//2.3</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;IE=edge&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        <span class="token operator">*</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span>container <span class="token punctuation">{</span>
            column<span class="token operator">-</span>count<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
            margin<span class="token operator">-</span>top<span class="token operator">:</span> 800px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">.</span>box <span class="token punctuation">{</span>
            <span class="token comment">/* position: absolute; */</span>
            <span class="token literal-property property">top</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
            <span class="token literal-property property">margin</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
            <span class="token literal-property property">background</span><span class="token operator">:</span> red<span class="token punctuation">;</span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
            <span class="token literal-property property">padding</span><span class="token operator">:</span> 20px<span class="token punctuation">;</span>
            box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
            word<span class="token operator">-</span>wrap<span class="token operator">:</span> <span class="token keyword">break</span><span class="token operator">-</span>word<span class="token punctuation">;</span>
            <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid black<span class="token punctuation">;</span>
            <span class="token literal-property property">padding</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
            overflow<span class="token operator">-</span>y<span class="token operator">:</span> auto<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span> aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">0.</span>基础知识

document<span class="token punctuation">.</span>documentElement：可返回存在于 <span class="token constant">XML</span> 以及 <span class="token constant">HTML</span> 文档中的文档根节点（对应的是html标签）
document<span class="token punctuation">.</span>body：提供了对 <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span> 标签的直接访问（对应的是body标签）
在<span class="token constant">DTD</span>已声明的情况下用documentElement，未声明的情况下用body



<span class="token operator">--</span><span class="token number">1.</span>可见区域宽高
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>  <span class="token comment">//height + padding + 水平滚动条高度</span>
window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>width<span class="token comment">//屏幕宽度（不受窗口resize事件影响）</span>

document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>  <span class="token comment">//height + padding + 水平滚动条高度（doc为严格模式下面document.body失效，原因不明） | 考虑用document.documentElement.clientHeight</span>
window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>height<span class="token comment">//屏幕高度（不受窗口resize事件影响）</span>


<span class="token number">2.</span>滚动长度：
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token comment">//严格模式下面用这个</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token comment">//兼容模式用这个</span>

<span class="token number">3.</span>元素宽高
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetWidth<span class="token comment">//获取元素的宽，这里需要注意我们的box-size:box还是content差距是很大的。</span>

<span class="token number">4.</span>元素距离顶部距离
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop<span class="token comment">//绝对数值</span>

document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">+</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_2-1-32-监听dom元素-mutationobserver"><a href="#_2-1-32-监听dom元素-mutationobserver" class="header-anchor">#</a> 2.1.32 监听dom元素 | MutationObserver</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">mutationList<span class="token punctuation">,</span> observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  mutationList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'childList'</span><span class="token operator">:</span>
        <span class="token comment">/* 从树上添加或移除一个或更多的子节点；参见 mutation.addedNodes 与
           mutation.removedNodes */</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'attributes'</span><span class="token operator">:</span>
        <span class="token comment">/* mutation.target 中某节点的一个属性值被更改；该属性名称在 mutation.attributeName 中，
           该属性之前的值为 mutation.oldValue */</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> targetNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#someElement&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> observerOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 观察目标子节点的变化，是否有添加或者删除</span>
  <span class="token literal-property property">childList</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  
  <span class="token comment">// 观察属性变动</span>
  <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
  <span class="token comment">// 观察后代节点，默认为 false</span>
  <span class="token literal-property property">subtree</span><span class="token operator">:</span> <span class="token boolean">true</span>     
<span class="token punctuation">}</span>

<span class="token keyword">var</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>targetNode<span class="token punctuation">,</span> observerOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_2-1-33-arguments"><a href="#_2-1-33-arguments" class="header-anchor">#</a> 2.1.33 arguments</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>arguments默认获取剩下的参数

<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token punctuation">,</span> className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">的年龄是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁，是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">班学生</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>...arguments</p> <h3 id="_2-1-34-true-false-nan-判空-易错"><a href="#_2-1-34-true-false-nan-判空-易错" class="header-anchor">#</a> 2.1.34 true | false | nan | 判空  | 易错</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> 里面我以为只有<span class="token boolean">false</span>的才会跳，结果现在发现了<span class="token keyword">undefined</span>，<span class="token keyword">null</span>，<span class="token boolean">false</span>都会跳

<span class="token number">1</span><span class="token punctuation">.</span>nan是number的特殊类型。不等于任何值，即使nan<span class="token operator">==</span>nan返回值也是一个<span class="token boolean">false</span>，判断是否nan要调用isnan（）原理是会尝试转化number类型，能转化的返回<span class="token boolean">true</span>，否则返回<span class="token boolean">false</span>

<span class="token number">2.</span><span class="token boolean">false</span>的情况
<span class="token keyword">let</span> a <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出false</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出false</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">NaN</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出false</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">null</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出false</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">''</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出false</span>

<span class="token number">3.</span><span class="token boolean">true</span>的情况

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出true</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出true</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">30</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出true</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'0'</span>  <span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token comment">//输出true</span>

<span class="token number">4</span><span class="token punctuation">.</span>object判空
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'{}'</span> <span class="token operator">==</span> <span class="token boolean">false</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'[]'</span> <span class="token operator">==</span> <span class="token boolean">false</span>

<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span>length <span class="token comment">// a.length 这个玩意输出是undefine </span>
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span>length  <span class="token comment">// a.length 这个的输出是0</span>



</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_2-1-35-postmessage"><a href="#_2-1-35-postmessage" class="header-anchor">#</a> 2.1.35  postmessage</h3> <h4 id="子组件"><a href="#子组件" class="header-anchor">#</a> 子组件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> data<span class="token operator">=</span><span class="token string">&quot;data1111111111&quot;</span>
window<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//parent.postmessage vue里面</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="父组件"><a href="#父组件" class="header-anchor">#</a> 父组件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">parent</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;测试:&quot;</span><span class="token punctuation">,</span>param<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>parent<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-1-36-垃圾回收"><a href="#_2-1-36-垃圾回收" class="header-anchor">#</a> 2.1.36 垃圾回收</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>有一个方法，里面有一个基础数据类型 a，还有用 <span class="token keyword">const</span> 定义的 b 对象，怎么回收<span class="token operator">?</span>（删除引用）
知识点：<span class="token keyword">const</span>定义的引用类型只要指针不发生改变，其他的不论如何改变都是可以的
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">55</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//这样会报错 c={}，因为这样就改变了他的引用类型了</span>
                c<span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>

        <span class="token punctuation">}</span>
        <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2-1-37-innertext-textcontent-nodevalue"><a href="#_2-1-37-innertext-textcontent-nodevalue" class="header-anchor">#</a> 2.1.37  innerText |  textContent |  nodeValue</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>innerText获取可以显示的文本<span class="token operator">:</span>display<span class="token operator">:</span>none的不会输出，opacticy为<span class="token number">0</span>就是可以被输出。

<span class="token operator">--</span><span class="token number">2</span><span class="token punctuation">.</span>textContent能够获取所有子节点的文本内容。包括html和script。注意注释获取不到

<span class="token operator">--</span><span class="token number">3</span><span class="token punctuation">.</span>nodeValue只能是作用于文本节点或者注释节点本点。不然会是<span class="token keyword">null</span>

<span class="token operator">--</span><span class="token number">4</span><span class="token punctuation">.</span>innertext作用于html element后两个作用于node。

<span class="token operator">--</span><span class="token number">5.</span>注意一下html中换行和和注释节点也被算做了一个子节点
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-1-38-geo-api"><a href="#_2-1-38-geo-api" class="header-anchor">#</a> 2.1.38  geo api</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">geolocation</span> <span class="token punctuation">(</span>http的定位可能会不准，因此最好是https<span class="token operator">-</span>ios10<span class="token punctuation">)</span>
<span class="token comment">//翻墙才能用</span>
navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span><span class="token parameter">position</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'当前位置信息：'</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">//定位数据获取成功响应  </span>
<span class="token keyword">function</span>  <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'纬度: '</span>          <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>latitude          <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span>  
      <span class="token string">'经度: '</span>         <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>longitude         <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span>  
      <span class="token string">'海拔: '</span>          <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>altitude          <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span>  
      <span class="token string">'水平精度: '</span>          <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>accuracy          <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span>  
      <span class="token string">'垂直精度: '</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>altitudeAccura<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//定位数据获取失败响应  </span>
<span class="token keyword">function</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token keyword">switch</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span>  
  <span class="token punctuation">{</span>  
    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">PERMISSION_DENIED</span><span class="token operator">:</span>  
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;您拒绝对获取地理位置的请求&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">POSITION_UNAVAILABLE</span><span class="token operator">:</span>  
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;位置信息是不可用的&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">TIMEOUT</span><span class="token operator">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求您的地理位置超时&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">UNKNOWN_ERROR</span><span class="token operator">:</span>  
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;未知错误&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  

<span class="token keyword">if</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">)</span><span class="token punctuation">{</span>  
  navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>onSuccess <span class="token punctuation">,</span> onError<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>  
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;您的浏览器不支持使用HTML 5来获取地理位置服务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="_2-1-39-正则"><a href="#_2-1-39-正则" class="header-anchor">#</a> 2.1.39  正则</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//(.)匹配任意一个 (？)匹配0-1个  *匹配1个以上 \d 匹配单个数字=[0-9]</span>

<span class="token comment">//手机号 | 1开头+除了1之外的东西+中间9个结尾 </span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1][3,4,5,6.7,8,9][0-9]{9}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[1][3,4,5,6.7,8,9][0-9]{9}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> text <span class="token operator">=</span><span class="token string">&quot;我的手机号是19120636253，因此xxxxx/但是他的手机号码是18928125079&quot;</span>
<span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>match <span class="token operator">|</span> 输出匹配的  这玩意和 replace是好用的 text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span><span class="token string">&quot;替换的内容&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//['19120636253','18928125079']</span>
<span class="token operator">--</span><span class="token number">2</span><span class="token punctuation">.</span>search <span class="token operator">|</span> 返回第一个元素位置
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//6</span>
<span class="token operator">--</span><span class="token number">3.</span> test <span class="token operator">|</span> 看一下有没有符合要求的元素<span class="token punctuation">.</span><span class="token punctuation">.</span>表单校验的时候可以用
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token operator">--</span><span class="token number">4.</span>零宽先行 <span class="token function">断言</span> <span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span>p<span class="token punctuation">)</span>  要求与p匹配	
<span class="token comment">//(?=a) 表示我们需要匹配某样东西的前面。  会带着?=一起输出出来，实操体验很差</span>
<span class="token comment">//(?!a) 表示我们需要不匹配某样东西。</span>
<span class="token comment">//(?&lt;=a) 表示我们需要匹配某样东西的后面。</span>
<span class="token comment">//(?&lt;!a) 表示我们需要不匹配某样东西，与(?!a)方向相反。</span>
<span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=机号是)[0-9]{11}(?=,因)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">let</span> text <span class="token operator">=</span><span class="token string">&quot;我的手机号是19120636253,因此xxxxx但是他的手机号是18928125079,因但是,&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg1<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">var</span> consoleName<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;console&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;window.console&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> consoleType<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;log&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;assert&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;clear&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//let rConsole = new RegExp(&quot;(&quot; + consoleName.join(&quot;|&quot;) + &quot;)&quot; + &quot;.(?:&quot; + consoleType.join(&quot;|&quot;) + &quot;)\\s{0,}\\([^;]*\\)(?!\\s*[;,]?\\s*\\/\\*\\s*NotClearConsole\\s*\\*\\/)\\s{0,};?&quot;, &quot;gi&quot;);</span>
<span class="token keyword">let</span> rConsole <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">console.log\(.*?\)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">let</span> text <span class="token operator">=</span><span class="token string">&quot;console.log('ddddd');let a= 1;console.log('ddd')&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>rConsole<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>	<span class="token comment">// 正则表达式</span>
        <span class="token keyword">function</span> <span class="token function">getQueryObject</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//假如不传值，默认也会有值</span>
            url <span class="token operator">=</span> url <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">:</span> url
            <span class="token comment">//这一套组合技就是取到最后？后面的值</span>
            <span class="token comment">// url.lastIndexOf('?')找到位置</span>
            <span class="token keyword">const</span> search <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token comment">// 3.1 正则表达式 基本形式 /正则表达式主体/修饰符(可选)</span>
            <span class="token comment">// i 大小不那啥  g 全局匹配 不会在匹配一个后就停止</span>
            <span class="token comment">// JavaScript 中，正则表达式通常用于两个字符串方法 : </span>
            <span class="token comment">// search()-并返回子串的起始位置 和 replace()-替换 和 exec也常用</span>
            <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([^?&amp;=]+)=</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>       
<span class="token comment">// 先行断言 后行：后面的内容应匹配表达式 exp</span>
        <span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=三).*(?=b)</span><span class="token regex-delimiter">/</span></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123一二三abc'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// 返回三a</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// reg.exec(search,(rs, $1, $2) =&gt; {</span>
        <span class="token comment">//         console.log($1, &quot;$1&quot;)</span>
        <span class="token comment">//         console.log($2, &quot;$2&quot;)</span>
        <span class="token comment">//         console.log(rs, &quot;rs&quot;)</span>
        <span class="token comment">//         const name = decodeURIComponent($1)</span>
        <span class="token comment">//         let val = decodeURIComponent($2)</span>
        <span class="token comment">//         val = String(val)</span>
        <span class="token comment">//         obj[name] = val</span>
        <span class="token comment">//         return rs</span>
        <span class="token comment">// })</span>

        <span class="token comment">//这样子写可以得到第一个参数匹配的内容</span>
        <span class="token comment">// replace的第一个参数是正则表达式，第二个参数有两种形式，第一种是string，那就是替换了</span>
        <span class="token comment">// 第二种就是传入函数，rs是匹配的内容，$1是第一个括号匹配的内容，$2是第二个括号匹配的内容</span>
        <span class="token comment">// 如果除了这两个参数外还有的话，那么就是offset（匹配到的索引）,str（原始字符串）</span>
        <span class="token comment">// reg是正则表达式，传入</span>
        search<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">rs<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$1<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$2<span class="token punctuation">,</span> <span class="token string">&quot;$2&quot;</span><span class="token punctuation">)</span>

            <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>$1<span class="token punctuation">)</span>
            <span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>$2<span class="token punctuation">)</span>
            val <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
            obj<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> val
            <span class="token keyword">return</span> rs
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> obj
    <span class="token punctuation">}</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;window.location&quot;</span><span class="token punctuation">,</span> <span class="token function">getQueryObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="_2-1-40-正则中使用变量"><a href="#_2-1-40-正则中使用变量" class="header-anchor">#</a> 2.1.40 正则中使用变量</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span>all</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> reg <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> all<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
        <span class="token keyword">return</span> temp
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_2-2-快问快答"><a href="#_2-2-快问快答" class="header-anchor">#</a> 2.2 快问快答</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1.</span>从哪里学习
开源项目排名，mdn，codepen
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_2-3-项目中js高级"><a href="#_2-3-项目中js高级" class="header-anchor">#</a> 2.3 项目中js高级</h2> <h3 id="_2-3-1-js引入-css-js"><a href="#_2-3-1-js引入-css-js" class="header-anchor">#</a> 2.3.1 js引入 css js</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1.引入script</span>
    <span class="token keyword">const</span> scriptInfo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span>
    scriptInfo<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span>
    <span class="token comment">// scriptInfo.setAttribute(&quot;data-callType&quot;,&quot;callScript&quot;)</span>
    scriptInfo<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;/js/1.js&quot;</span>
    document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>scriptInfo<span class="token punctuation">)</span>

    <span class="token comment">//2.引入css</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> cssInfo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;link&quot;</span><span class="token punctuation">)</span>
        cssInfo<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&quot;stylesheet&quot;</span>
        cssInfo<span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">&quot;text/css&quot;</span>
        cssInfo<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;/css/1.css&quot;</span>
        document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cssInfo<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//删除</span>
<span class="token keyword">let</span> callScript <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;script[data-callType='callScript']&quot;</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>callScript<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_2-3-2-禁止自动滑动"><a href="#_2-3-2-禁止自动滑动" class="header-anchor">#</a> 2.3.2 禁止自动滑动</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchmove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">passive</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//passive 参数不能省略，用来兼容ios和android</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-3-3-canvas成图片"><a href="#_2-3-3-canvas成图片" class="header-anchor">#</a> 2.3.3 canvas成图片</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//blob允许我们可以通过js直接操作二进制数据</span>
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">&quot;img&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;.jpg&quot;</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span>href <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>

        a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-3-4-iframe-postmessage"><a href="#_2-3-4-iframe-postmessage" class="header-anchor">#</a> 2.3.4 iframe | postmessage</h3> <h4 id="_2-3-4-1-利用iframe进行通讯"><a href="#_2-3-4-1-利用iframe进行通讯" class="header-anchor">#</a> 2.3.4.1 利用iframe进行通讯</h4> <p>这里对src进行了一个参数的传参</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>postmessage的协议测试：发送端<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>http://localhost:8082?getparam='+getparam<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>postmessage的协议测试：接收端<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    {{receive}}
 this.receive=this.$route.query.getparam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-3-4-2-postmessage进行通讯"><a href="#_2-3-4-2-postmessage进行通讯" class="header-anchor">#</a> 2.3.4.2 postMessage进行通讯</h4> <h5 id="子传父"><a href="#子传父" class="header-anchor">#</a> 子传父</h5> <p>例如子组件的按钮点击后传递给父组件</p> <p>用vue用post有一个坑就是，他的webpack初始化的时候会先给自己发一个数据。导致data会是webpack报错。
如果说我们要实现postMessage只发一次，我们就要监听指定的窗口</p> <p>子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//可以在method中，也可以在mount中</span>
<span class="token comment">//最后一个是可以传过去的网址</span>
parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">msg</span><span class="token operator">:</span><span class="token string">&quot;这是发送过去的数据&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>父：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//可以在method中，也可以在mount中</span>
<span class="token comment">//http://localhost:8082是iframe的内容</span>
<span class="token comment">// const publisher=window.open(&quot;http://localhost:8082/&quot;)</span>
<span class="token comment">//父目前的情况</span>
<span class="token operator">&lt;</span>iframe <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;'http://localhost:8082?getparam='+getparam&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300px&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;300px&quot;</span> frameborder<span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">&gt;</span>

<span class="token comment">//子传父的情况</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> origin <span class="token operator">=</span> event<span class="token punctuation">.</span>origin<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span>
    <span class="token comment">// 通常，onmessage()事件处理程序应当首先检测其中的origin属性，忽略来自未知源的消息</span>
    <span class="token comment">// 不然的话webpack会先给他发一个包</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>origin <span class="token operator">!==</span> <span class="token string">&quot;http://localhost:8082&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span><span class="token string">&quot;postmessage&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">//false就是冒泡事件，从里到外</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="父传子"><a href="#父传子" class="header-anchor">#</a> 父传子</h5> <p>父：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">//html中的东西</span>
<span class="token operator">&lt;</span>iframe
      <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;'http://localhost:8082?getparam=' + getparam&quot;</span>
      width<span class="token operator">=</span><span class="token string">&quot;300px&quot;</span>
      height<span class="token operator">=</span><span class="token string">&quot;300px&quot;</span>
      frameborder<span class="token operator">=</span><span class="token string">&quot;0&quot;</span>
      id<span class="token operator">=</span><span class="token string">&quot;iframeViewer&quot;</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">&gt;</span>


<span class="token keyword">const</span> _iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;iframeViewer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>
    <span class="token keyword">const</span> iframeViewer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;iframeViewer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> _obj <span class="token operator">=</span> <span class="token string">&quot;父传子的数据&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// _obj.type = &quot;view&quot;;</span>
    <span class="token comment">// _obj.currentProcessInstanceId =1;</span>

    iframeViewer<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;iframeViewer已加载&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _iframe<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_obj<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>



</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin<span class="token operator">==</span><span class="token string">'http://localhost:8081'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_2-4-webgl"><a href="#_2-4-webgl" class="header-anchor">#</a> 2.4 webgl</h2> <h3 id="_2-4-1-webgl基础"><a href="#_2-4-1-webgl基础" class="header-anchor">#</a> 2.4.1 webgl基础</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">类型数据和array的联系</span><span class="token operator">:</span><span class="token function">类型数组不等于array。类型数组提升了数组的性能。array的内部实现是链表，因此元素多的话性能会比较差</span><span class="token punctuation">(</span>这里主要指的是访问<span class="token punctuation">)</span>。类型数组是连续的内存实现的数据类型，通过加法可以实现访问，array则是一个个查找

<span class="token literal-property property">类型数组</span><span class="token operator">:</span><span class="token function">实现是缓冲</span><span class="token punctuation">(</span>arraybuffer 内存中的二进制数据。可以简单地理解为数据<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">视图</span><span class="token punctuation">(</span>int8array u的意思是有符号的正数范围增大，没有负数 uint8array uint16array float32array将缓冲中的数据读取和访问出来，可以简单地理解为数据转化器<span class="token punctuation">)</span>。缓存包括视图

<span class="token literal-property property">类型数组常用方法</span><span class="token operator">:</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token function">set</span><span class="token punctuation">(</span>index，value<span class="token punctuation">)</span> length 不支持push pop。唯一的创造方法是
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">int8array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span>，<span class="token number">1</span>，<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-4-2-实操"><a href="#_2-4-2-实操" class="header-anchor">#</a> 2.4.2 实操</h3> <p>总结起来四个步骤：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1</span>，initwebgl（初始化webgl） 
<span class="token number">2</span><span class="token function">，initshader</span><span class="token punctuation">(</span>初始化着色器<span class="token punctuation">)</span>
<span class="token number">3</span>，initbuffer（创造buffer对象）
<span class="token number">4</span>，draw
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>主要api：</p> <p>webgl的移动主要是向量的知识
1，shadersource的第二个参数的字符串定义一下angle旋转角度
2，在initbuffer中对angle进行赋值。通过webgl.uniformif(angle，pi/180)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1</span>。初始化
第一步：查找元素
<span class="token literal-property property">第二步</span><span class="token operator">:</span><span class="token function">这个元素getcontext</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span>，获取上下文 
<span class="token literal-property property">第三步</span><span class="token operator">:</span>初始化画布，xx<span class="token punctuation">.</span><span class="token function">viewport</span><span class="token punctuation">(</span>左上角的x坐标，y坐标，clientwidth，clientheight<span class="token punctuation">)</span>


<span class="token number">2.</span><span class="token function">着色器</span><span class="token punctuation">(</span><span class="token function">顶点着色器</span><span class="token punctuation">(</span>计算坐标<span class="token operator">+</span>一部分颜色<span class="token punctuation">)</span><span class="token function">。片元着色器</span><span class="token punctuation">(</span>最终颜色，纹理<span class="token punctuation">)</span><span class="token punctuation">)</span>
#创造shader
createshader
#链接shader。这里的第二个参数是<span class="token keyword">void</span> main开头的源码，还挺难的。有点像c的代码
shadersource
#编译shader
compileshader
#创造程序
createprogram
#shader绑定到程序里面
attachprogram
#webgl跟program链接
linkprogram
#使用program
useprogram




<span class="token number">3</span><span class="token function">，创造buffer</span><span class="token punctuation">(</span>圈一块地<span class="token punctuation">)</span>
#顶点数据
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">int8array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span>，<span class="token number">1</span>，<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
然后这个画布<span class="token punctuation">.</span><span class="token function">createbuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
#绑定缓冲区对象
这个画布<span class="token punctuation">.</span>bindbuffer
#绑定缓冲区数据
这个画布<span class="token punctuation">.</span>binddata
<span class="token function">#允许传递，允许传递给shader</span><span class="token punctuation">(</span>cpu渲染管线<span class="token punctuation">)</span>。之后调用显卡
enableverrexattrbarray
#传递给位置变量 shader和js做通信
这个画布<span class="token punctuation">.</span>vertexattribpointer


<span class="token number">4</span>，最后绘制就可以了
drawarray


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>接口：/wechat_api/auth/getOpenidStatus</p> <p>猜测原因：边界处理异常</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>这个接口返回结果如下
let res = <span class="token punctuation">{</span>
    WeiVi<span class="token operator">:</span> <span class="token string">&quot;XJW ♥ ZJY 2021.10.27 - Forever.&quot;</span><span class="token punctuation">,</span> 
 	code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
 	data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
 	msg<span class="token operator">:</span> <span class="token string">&quot;尚未完善手机号注册&quot;</span>
<span class="token punctuation">}</span>

前端在这个接口后面执行
if (res.code == <span class="token number">0</span>)<span class="token punctuation">{</span>
        this.setData(<span class="token punctuation">{</span>
        openid<span class="token operator">:</span> res.data.openid<span class="token punctuation">,</span>
        newuser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        token<span class="token operator">:</span> res.data.token
	<span class="token punctuation">}</span>)
<span class="token punctuation">}</span>

这导致后续/wechat_api/auth/openidRegister接口的openid和token参数传参为空。才报错参数有误后跳转回主界面

solution：
手机号注册没有完善的时候正常返回openid和token
或者
在openidRegister增加对于openid和token为空的处理
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_2-5-js工程化概述"><a href="#_2-5-js工程化概述" class="header-anchor">#</a> 2.5 js工程化概述</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token number">1</span> 工程化工具<span class="token punctuation">.</span>js<span class="token punctuation">,</span>rollup gulp
<span class="token operator">--</span><span class="token number">2.</span>模块化：es6 
<span class="token operator">--</span><span class="token number">3.</span>兼容：
<span class="token operator">--</span><span class="token number">3.1</span> polyfill：
@babel<span class="token operator">/</span>preset<span class="token operator">-</span>env <span class="token operator">+</span> corejs@<span class="token number">3</span>
<span class="token operator">--</span><span class="token number">3.2</span> runtime：
@babel<span class="token operator">/</span>preset<span class="token operator">-</span>env <span class="token operator">+</span> @babel<span class="token operator">/</span>runtime<span class="token operator">-</span>corejs3 <span class="token operator">+</span> @babel<span class="token operator">/</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span>runtime
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-5-1-polyfill-实操"><a href="#_2-5-1-polyfill-实操" class="header-anchor">#</a> 2.5.1 polyfill 实操</h3> <h4 id="_2-5-1-1-jsconfig-json"><a href="#_2-5-1-1-jsconfig-json" class="header-anchor">#</a> 2.5.1.1 jsconfig.json</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定要使用的默认库，值为&quot;es3&quot;,&quot;es5&quot;,&quot;es2015&quot;...</span>
    <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 在生成模块代码时指定模块系统</span>
        <span class="token string-property property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度</span>
            <span class="token string-property property">&quot;tsBuildInfoFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./buildFile&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 增量编译文件的存储位置</span>
            <span class="token string-property property">&quot;diagnostics&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印诊断信息 </span>
            <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 目标语言的版本</span>
            <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CommonJS&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 生成代码的模板标准</span>
            <span class="token string-property property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 将多个相互依赖的文件生成一个文件，可以用在AMD模块中，即开启时应设置&quot;module&quot;: &quot;AMD&quot;,</span>
            <span class="token string-property property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;DOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ScriptHost&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2019.Array&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，通常都需要配置，如es8的数组新特性需要引入&quot;ES2019.Array&quot;,</span>
            <span class="token string-property property">&quot;allowJS&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许编译器编译JS，JSX文件</span>
            <span class="token string-property property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在JS文件中报错，通常与allowJS一起使用</span>
            <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出目录</span>
            <span class="token string-property property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出文件目录(用于输出)，用于控制输出目录结构</span>
            <span class="token string-property property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成声明文件，开启后会自动生成声明文件</span>
            <span class="token string-property property">&quot;declarationDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./file&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定生成声明文件存放目录</span>
            <span class="token string-property property">&quot;emitDeclarationOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 只生成声明文件，而不会生成js文件</span>
            <span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的sourceMap文件</span>
            <span class="token string-property property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中</span>
            <span class="token string-property property">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 为声明文件生成sourceMap</span>
            <span class="token string-property property">&quot;typeRoots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 声明文件目录，默认时node_modules/@types</span>
            <span class="token string-property property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 加载的声明文件包</span>
            <span class="token string-property property">&quot;removeComments&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 删除注释 </span>
            <span class="token string-property property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不输出文件,即编译后不会生成任何js文件</span>
            <span class="token string-property property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 发送错误时不输出任何文件</span>
            <span class="token string-property property">&quot;noEmitHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不生成helper函数，减小体积，需要额外安装，常配合importHelpers一起使用</span>
            <span class="token string-property property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 通过tslib引入helper函数，文件必须是模块</span>
            <span class="token string-property property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 降级遍历器实现，如果目标源是es3/5，那么遍历器会有降级的实现</span>
            <span class="token string-property property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启所有严格的类型检查</span>
            <span class="token string-property property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在代码中注入'use strict'</span>
            <span class="token string-property property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许隐式的any类型</span>
            <span class="token string-property property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许把null、undefined赋值给其他类型的变量</span>
            <span class="token string-property property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许函数参数双向协变</span>
            <span class="token string-property property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 类的实例属性必须初始化</span>
            <span class="token string-property property">&quot;strictBindCallApply&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 严格的bind/call/apply检查</span>
            <span class="token string-property property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许this有隐式的any类型</span>
            <span class="token string-property property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查只声明、未使用的局部变量(只提示不报错)</span>
            <span class="token string-property property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查未使用的函数参数(只提示不报错)</span>
            <span class="token string-property property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 防止switch语句贯穿(即如果没有break语句后面不会执行)</span>
            <span class="token string-property property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//每个分支都会有返回值</span>
            <span class="token string-property property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许export=导出，由import from 导入</span>
            <span class="token string-property property">&quot;allowUmdGlobalAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在模块中全局变量的方式访问umd模块</span>
            <span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模块解析策略，ts默认用node的解析策略，即相对的方式导入</span>
            <span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析非相对模块的基地址，默认是当前目录</span>
            <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 路径映射，相对于baseUrl</span>
              <span class="token comment">// 如使用jq时不想使用默认版本，而需要手动指定版本，可进行如下配置</span>
              <span class="token string-property property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;rootDirs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错</span>
            <span class="token string-property property">&quot;listEmittedFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印输出文件</span>
            <span class="token string-property property">&quot;listFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token comment">// 打印编译的文件(包括引用的声明文件)</span>
          <span class="token punctuation">}</span>
     
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 要排除的文件</span>
        <span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;**/node_modules/*&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 启用javascript文件的类型检查</span>
    <span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析非相关模块名称的基础目录</span>
    <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;utils&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;src/utils/*&quot;</span>
        <span class="token punctuation">]</span> <span class="token comment">// 指定相对于baseUrl选项计算的路径映射，使用webpack别名，智能感知路径</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h2 id="_2-6-加载字体"><a href="#_2-6-加载字体" class="header-anchor">#</a> 2.6 加载字体</h2> <h2 id="_2-7-tc39-会议"><a href="#_2-7-tc39-会议" class="header-anchor">#</a> 2.7 tc39 会议</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">2023</span><span class="token operator">/</span><span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">.</span>temporal时区的国际化支持
<span class="token number">2.</span>原型怎么用symbol防止污染
<span class="token number">3</span><span class="token punctuation">.</span>weakmap的key将支持用symbol表示
<span class="token number">4</span><span class="token punctuation">.</span>await置于顶层的推进，<span class="token keyword">await</span>将引入promise的一些特性方案的推进

<span class="token number">2023</span><span class="token operator">/</span><span class="token number">1</span>之前

<span class="token operator">--</span><span class="token number">0.1</span> Top<span class="token operator">-</span>level <span class="token keyword">await</span>（stage <span class="token number">4</span>）：支持最顶层使用<span class="token keyword">await</span>
<span class="token operator">--</span><span class="token number">0.2</span> Temporal（stage <span class="token number">3</span>）：时间处理函数标准化 函数
<span class="token operator">--</span><span class="token number">0.3</span>（stage3） at ： 负索引
<span class="token operator">--</span><span class="token number">0.4</span> Record <span class="token operator">&amp;</span> Tuple（stage2） ：Record类似于对象，Tuple类似于数组
<span class="token operator">--</span><span class="token number">0.5</span> <span class="token function">Decorators</span> <span class="token punctuation">(</span>stage <span class="token number">2</span><span class="token punctuation">)</span>：装饰器
<span class="token operator">--</span><span class="token number">0.6</span> Set <span class="token function">Methods</span> <span class="token punctuation">(</span>stage <span class="token number">2</span><span class="token punctuation">)</span>：基于交集<span class="token operator">/</span>并集<span class="token operator">/</span>差集创建新的Set的方法
<span class="token operator">--</span><span class="token number">0.7</span> orient<span class="token operator">-</span>error编程的一系列接口
<span class="token operator">--</span><span class="token number">0.8</span> Pipeline Operator：管道操作符（<span class="token operator">|</span><span class="token operator">&gt;</span>） <span class="token function">如doubleNumber</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>会变为number <span class="token operator">|</span><span class="token operator">&gt;</span> doubleNumber的形式

<span class="token operator">--</span><span class="token number">0.9</span><span class="token punctuation">.</span>throw <span class="token function">Expressions</span> <span class="token punctuation">(</span>stage <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Unsupported encoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span><span class="token number">0.10</span><span class="token punctuation">.</span>Promise<span class="token punctuation">.</span>try  可以更加精确的捕获同步错误。
里面抛出的错误能够被捕获
<span class="token keyword">function</span> <span class="token function">getUserNameById</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">try</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> id <span class="token operator">!==</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;id must be a number&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> user<span class="token punctuation">.</span>name
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token number">0.11</span><span class="token punctuation">.</span>Error Cause

就是<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Upload job result failed'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">cause</span><span class="token operator">:</span> err <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
然后 是使用 。相当于他会帮你自定义一个类型出来
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">doJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Caused by'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>cause<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Error: Upload job result failed</span>
<span class="token comment">// Caused by TypeError: Failed to fetch</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/front-base-know-blog/know/1.html.html" class="prev">
          1.HTML（浏览器机制）
        </a></span> <span class="next"><a href="/front-base-know-blog/know/2.1.javascript基础.html">
          2.1 JavaScript基础
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/front-base-know-blog/assets/js/app.d5da5b09.js" defer></script><script src="/front-base-know-blog/assets/js/3.a15d85cc.js" defer></script><script src="/front-base-know-blog/assets/js/1.704023bf.js" defer></script><script src="/front-base-know-blog/assets/js/16.d1ddf066.js" defer></script>
  </body>
</html>
