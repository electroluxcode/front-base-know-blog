import{_ as s,o as a,c as n,R as l}from"./chunks/framework.408c4d71.js";const F=JSON.parse('{"title":"4.git的基本使用","description":"","frontmatter":{},"headers":[],"relativePath":"supper/工具基础/4git的基本使用.md","filePath":"supper/工具基础/4git的基本使用.md","lastUpdated":1692759868000}'),p={name:"supper/工具基础/4git的基本使用.md"},o=l(`<h1 id="_4-git的基本使用" tabindex="-1">4.git的基本使用 <a class="header-anchor" href="#_4-git的基本使用" aria-label="Permalink to &quot;4.git的基本使用&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#_4-1-基础知识">4.1 基础知识</a><ul><li><a href="#_4-1-1-删除仓库">4.1.1 删除仓库</a></li><li><a href="#_4-1-4-版本控制">4.1.4 版本控制</a></li><li><a href="#_4-1-5-提交树美化">4.1.5 提交树美化</a></li><li><a href="#_4-1-6-合并代码">4.1.6 合并代码</a></li><li><a href="#_4-1-7-标签管理">4.1.7 标签管理</a></li><li><a href="#_4-1-8-合并冲突">4.1.8 合并冲突</a></li><li><a href="#_4-1-9-github-提-issue">4.1.9 github 提 issue</a></li><li><a href="#_4-1-10-cherry-pick">4.1.10 cherry-pick</a></li></ul></li><li><a href="#_4-2-git-hook-husky">4.2 git hook | husky</a><ul><li><a href="#_4-2-1-husky-初始化">4.2.1 husky 初始化</a></li><li><a href="#_4-2-2-添加钩子">4.2.2 添加钩子</a></li></ul></li><li><a href="#_4-9-项目常用">4.9 项目常用</a><ul><li><a href="#_4-9-1-当开发的时候主分支有新东西要合并进来">4.9.1 当开发的时候主分支有新东西要合并进来</a></li><li><a href="#_4-9-2-dev-没有-pull-到最新-然后进行开发">4.9.2 dev 没有 pull 到最新 然后进行开发</a></li></ul></li><li><a href="#_4-10-设置github-的-代理">4.10 设置github 的 代理</a><ul><li><a href="#http">http</a></li><li><a href="#设置ssh代理-终极解决方案">设置ssh代理（终极解决方案）</a></li></ul></li><li><a href="#常见bug">常见bug</a><ul><li><a href="#error-remote-origin-already-exists">error: remote origin already exists</a></li></ul></li><li><a href="#规范">规范</a></li></ul></nav><h2 id="_4-1-基础知识" tabindex="-1">4.1 基础知识 <a class="header-anchor" href="#_4-1-基础知识" aria-label="Permalink to &quot;4.1  基础知识&quot;">​</a></h2><p>下载去到下面下载</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://git-scm.com/downloads</span></span>
<span class="line"><span style="color:#A6ACCD;">git pull 拉取远程仓库</span></span>
<span class="line"><span style="color:#A6ACCD;">git add . 跟踪所有改动的文件</span></span>
<span class="line"><span style="color:#A6ACCD;">git commit -m &quot;&quot; 提交改动到本地仓库</span></span>
<span class="line"><span style="color:#A6ACCD;">git push 推送到远程仓库</span></span>
<span class="line"><span style="color:#A6ACCD;">git checkout &lt;branch&gt; 切换分支</span></span>
<span class="line"><span style="color:#A6ACCD;">git clone/init 初始化</span></span>
<span class="line"><span style="color:#A6ACCD;">git log 查看历史</span></span>
<span class="line"><span style="color:#A6ACCD;">git revert &lt;commit&gt; 撤销指定提交</span></span></code></pre></div><p>git中有三类文件</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">1 被追踪的（tracked）:已经加入文档库</span></span>
<span class="line"><span style="color:#A6ACCD;">2不被追踪的(untracked):没有加入文档库</span></span>
<span class="line"><span style="color:#A6ACCD;">3忽略的(ignored):忽略那些不需要管理的文件夹或文件</span></span></code></pre></div><p>安装后指定你的邮箱和用户名</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git config </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">global user</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">email </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3451613934@qq.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//指定你的 </span></span>
<span class="line"><span style="color:#A6ACCD;">git config </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">global user</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">electrolux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//指定你的</span></span>
<span class="line"><span style="color:#A6ACCD;">git config </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">global </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">l </span><span style="color:#676E95;font-style:italic;">//打印出你的config</span></span></code></pre></div><p>查看状态</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git config </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">e </span><span style="color:#676E95;font-style:italic;">//查看当前git配置</span></span>
<span class="line"><span style="color:#A6ACCD;">git remote </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">v </span><span style="color:#676E95;font-style:italic;">//查看源</span></span></code></pre></div><p>当你第一次push的时候 可能会有凭证让你输入。gitee和github的凭证各不相同</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">上传的时候如果有报错的话提示账号密码错误的话，在上传的时候有一个弹窗，那个是输入你的码云的账号密码，输错了的话打开控制面板，用户，windows凭据，普通凭据里面删除码云和GitHub的账号密码再重新git上传重新弹窗再输入就好了，新手上路被坑了</span></span></code></pre></div><h3 id="_4-1-1-删除仓库" tabindex="-1">4.1.1 删除仓库 <a class="header-anchor" href="#_4-1-1-删除仓库" aria-label="Permalink to &quot;4.1.1 删除仓库&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git remote remove test </span><span style="color:#676E95;font-style:italic;">//删除其中一个仓库</span></span>
<span class="line"><span style="color:#A6ACCD;">git remote rm origin </span><span style="color:#676E95;font-style:italic;">//删除掉远程仓库</span></span></code></pre></div><h3 id="_4-1-4-版本控制" tabindex="-1">4.1.4 版本控制 <a class="header-anchor" href="#_4-1-4-版本控制" aria-label="Permalink to &quot;4.1.4 版本控制&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git log </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">pretty</span><span style="color:#89DDFF;">=</span><span style="color:#FFCB6B;">format</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%h: %s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">//加参。简洁查看推荐这种。感觉跟reflog差不多。但是各有各的好处</span></span>
<span class="line"><span style="color:#A6ACCD;">git reset </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">hard 60a1fded33ad035cc323ca5de6e3da4ffb80c8db	</span><span style="color:#676E95;font-style:italic;">//回退版本</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">git reflog	</span><span style="color:#676E95;font-style:italic;">//查看除了提交还有删除记录什么的</span></span>
<span class="line"><span style="color:#A6ACCD;">git reset </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">hard HEAD@</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">//执行这个操作就可以回退版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">git status	</span><span style="color:#676E95;font-style:italic;">//（看一下是不是有文件没提交）</span></span></code></pre></div><h3 id="_4-1-5-提交树美化" tabindex="-1">4.1.5 提交树美化 <a class="header-anchor" href="#_4-1-5-提交树美化" aria-label="Permalink to &quot;4.1.5 提交树美化&quot;">​</a></h3><p>建议在sourcetree这种地方看提交树</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">1e8e76b2d2d8ed1fa89996b0a90eacb151422379  </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;">：</span><span style="color:#F78C6C;">37</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//第一行的origin/master直接删掉就可以了</span></span>
<span class="line"><span style="color:#A6ACCD;">d14a3d1e3c5033840c78b58a5b1cae1af22e00ac </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">26</span></span>
<span class="line"><span style="color:#A6ACCD;">f52fecd7f8b665c018d6c244dd924272cfaccfbf 404图片的提交2</span></span>
<span class="line"><span style="color:#A6ACCD;">5</span><span style="color:#82AAFF;">c7d0df162896912ffcc38e6118e45b7f8b953d2</span><span style="color:#A6ACCD;"> (tag: </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) 404的提交</span></span>
<span class="line"><span style="color:#A6ACCD;">60a1fded33ad035cc323ca5de6e3da4ffb80c8db 404图片的提交</span></span></code></pre></div><p>合并中间几个记录实操：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git log  </span><span style="color:#676E95;font-style:italic;">//查看提交记录</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//这里我们调用的是合并id的前 3    ctrl+x快速切换</span></span>
<span class="line"><span style="color:#A6ACCD;">git rebase </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">i </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">60a1fded33ad035cc323ca5de6e3da4ffb80c8db</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//这里我们进入了一个vim界面</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//esc按下之后，我们  :w 表示保存退出  :wq!表示强制保存退出   :q!强制退出不保存</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//越下面的是提交越晚的。和git log顺序相反</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//我们要合并我们就要把pick 变成 s（squash）这两个东西都可以。这段的意思是把中间两个合并到 404的提交 这里面去    </span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pick 5c7d0df 404的提交</span></span>
<span class="line"><span style="color:#A6ACCD;">squash f52fecd 404图片的提交2</span></span>
<span class="line"><span style="color:#A6ACCD;">squash d14a3d1 </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">26</span></span>
<span class="line"><span style="color:#A6ACCD;">pick 1e8e76b </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;">：</span><span style="color:#F78C6C;">37</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//esc +  :wq保存并退出</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//接下来会弹出第二个页面, 分别展示三个commit的提交信息，我们要选中一个提交信息</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//按d 删除   我第一次不小心 没有commit信息 </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//git rebase --abort恢复</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//d(drop那里)。或许这种方法更加痛快    s（squash）这个玩意就不用了</span></span></code></pre></div><h3 id="_4-1-6-合并代码" tabindex="-1">4.1.6 合并代码 <a class="header-anchor" href="#_4-1-6-合并代码" aria-label="Permalink to &quot;4.1.6 合并代码&quot;">​</a></h3><p>merge 合并别人的</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git checkout master </span><span style="color:#676E95;font-style:italic;">//切换分支</span></span>
<span class="line"><span style="color:#A6ACCD;">git merge main</span></span></code></pre></div><h3 id="_4-1-7-标签管理" tabindex="-1">4.1.7 标签管理 <a class="header-anchor" href="#_4-1-7-标签管理" aria-label="Permalink to &quot;4.1.7 标签管理&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git tag v1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">//打标签</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">a v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">version 0.1 released</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> 1094adb </span><span style="color:#676E95;font-style:italic;">//指定标签名和说明文字和commit id</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag	</span><span style="color:#676E95;font-style:italic;">//查看所有标签</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//若是忘记打，则查找历史提交commit id ，再打上</span></span>
<span class="line"><span style="color:#A6ACCD;">git log </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">pretty</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">oneline </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">abbrev</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">commit</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> f52c633</span></span>
<span class="line"><span style="color:#A6ACCD;">git show v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">//查看标签详细信息</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">d v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">//删除标签</span></span>
<span class="line"><span style="color:#A6ACCD;">git push origin v1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">//推送标签到远程</span></span>
<span class="line"><span style="color:#A6ACCD;">git push origin –tags	</span><span style="color:#676E95;font-style:italic;">//一次性推送全部本地标签</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//删除标签，（若已推送到远程，先从本地删除，从远程删除）</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">d v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">9</span></span>
<span class="line"><span style="color:#A6ACCD;">git push </span><span style="color:#FFCB6B;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">refs</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">tags</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">9</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//打标签如下  v0.9 后面是commit id</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">d v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">9</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag v0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> f52c633</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//实操</span></span>
<span class="line"><span style="color:#A6ACCD;">git add </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">git commit </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tag标签</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">d </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">a </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">提交</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">git tag	</span><span style="color:#676E95;font-style:italic;">//查看所有标签 </span></span>
<span class="line"><span style="color:#A6ACCD;">git show </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//查看一下状态</span></span>
<span class="line"><span style="color:#A6ACCD;">git push origin </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span></span></code></pre></div><h3 id="_4-1-8-合并冲突" tabindex="-1">4.1.8 合并冲突 <a class="header-anchor" href="#_4-1-8-合并冲突" aria-label="Permalink to &quot;4.1.8 合并冲突&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git pull 和 git fetch </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> git merge 但是git fetch可以看到更新情况，也就更安全</span></span></code></pre></div><p>在我们直接下载并且进行提交的时候，有时候啊会报错</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">fatal: refusing to merge unrelated histories解决</span></span></code></pre></div><p>这个时候我们应该</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git pull origin master --allow-unrelated-histories</span></span></code></pre></div><p>然后冲突我们可以在冲突编辑区下面进行修改</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">左边是一开始的，右边是已经更改的</span></span>
<span class="line"><span style="color:#A6ACCD;">下面是最终提交的</span></span></code></pre></div><h3 id="_4-1-9-github-提-issue" tabindex="-1">4.1.9 github 提 issue <a class="header-anchor" href="#_4-1-9-github-提-issue" aria-label="Permalink to &quot;4.1.9 github 提 issue&quot;">​</a></h3><p>首先 fork 一下，然后 git clone fork 的 仓库。然后 切换分支 提交 分支到自己的地方 。就可以去他的项目提 pr了</p><h3 id="_4-1-10-cherry-pick" tabindex="-1">4.1.10 cherry-pick <a class="header-anchor" href="#_4-1-10-cherry-pick" aria-label="Permalink to &quot;4.1.10 cherry-pick&quot;">​</a></h3><p>把指定的<a href="https://so.csdn.net/so/search?q=commit&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">commit</a>，拉到一个当前的分支上。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">git cherry</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">pick commitID</span></span></code></pre></div><h2 id="_4-2-git-hook-husky" tabindex="-1">4.2 git hook | husky <a class="header-anchor" href="#_4-2-git-hook-husky" aria-label="Permalink to &quot;4.2 git hook | husky&quot;">​</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">githook是原理是</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">git文件夹里面有hooks里面有很多hook，我们只需要写bash脚本，特定的时间就会做特定的事情</span></span>
<span class="line"><span style="color:#A6ACCD;">husty会自定义目录执行特定时间脚本（主要是precommit)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">为了代码的规范有必要进行 log 规范化检查。而检查的入口可以从 git hook 切入，而 git hook </span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">钩子都被存储在 Git 目录下的 hooks 子目录中。 也即绝大部分项目中的 </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">.git/hooks</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">，默认存在的都是示例，其名字都是以 </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">.sample</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> 结尾，如果你想启用它们，得先移除这个后缀。把一个正确命名且可执行的文件放入 Git 目录下的 hooks 子目录中，即可激活该钩子脚本。 这样一来，它就能被 Git 调用。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">你可以用来检查消息、检查代码，可以用来触发任意流程，譬如自动规范检查等等</span></span></code></pre></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">有两种类型的hook</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">一种是服务端的hook，  receive之类的</span></span>
<span class="line"><span style="color:#A6ACCD;">一种是客户端的hook。precommiit之类的</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">有几种钩子的情况</span></span>
<span class="line"><span style="color:#82AAFF;">msg</span><span style="color:#A6ACCD;">(应用程序消息)</span></span>
<span class="line"><span style="color:#82AAFF;">pre</span><span style="color:#A6ACCD;">(应用前批处理)</span></span>
<span class="line"><span style="color:#82AAFF;">post</span><span style="color:#A6ACCD;">(应用程序批处理后)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">hook，这其实是计算机领域中一个很常见的概念，hook 翻译过来的意思是钩子或者勾住，</span><span style="color:#FFCB6B;">而在计算机领域中则要分为两种解释</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">拦截消息，在消息到达目标前，提前对消息进行处理</span></span>
<span class="line"><span style="color:#A6ACCD;">对特定的事件进行监听，当某个事件或动作被触发时也会同时触发对应的 hook</span></span>
<span class="line"><span style="color:#A6ACCD;">也就是说 hook 本身也是一段程序，只是它会在特定的时机被触发。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">在提交的规范中我们一般有以下的规范</span></span>
<span class="line"><span style="color:#A6ACCD;">feat：新功能（feature）</span></span>
<span class="line"><span style="color:#A6ACCD;">fix：修补bug</span></span>
<span class="line"><span style="color:#A6ACCD;">docs：文档（documentation）</span></span>
<span class="line"><span style="color:#A6ACCD;">style： 格式（不影响代码运行的变动）</span></span>
<span class="line"><span style="color:#A6ACCD;">refactor：重构（即不是新增功能，也不是修改bug的代码变动）</span></span>
<span class="line"><span style="color:#A6ACCD;">test：增加测试</span></span>
<span class="line"><span style="color:#A6ACCD;">chore：构建过程或辅助工具的变动</span></span></code></pre></div><h3 id="_4-2-1-husky-初始化" tabindex="-1">4.2.1 husky 初始化 <a class="header-anchor" href="#_4-2-1-husky-初始化" aria-label="Permalink to &quot;4.2.1 husky 初始化&quot;">​</a></h3><p>husky的原理是在.git/config文件的[core]中添加 hooksPath = .husky就是原理了</p><p>step1:初始化</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">命令行中</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install husky@</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">D</span></span>
<span class="line"><span style="color:#A6ACCD;">package</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">json中添加</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">prepare</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">husky install</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span></code></pre></div><p>npm run prepare，构建一般目录 ~的这个目录直接删掉就好了</p><h3 id="_4-2-2-添加钩子" tabindex="-1">4.2.2 添加钩子 <a class="header-anchor" href="#_4-2-2-添加钩子" aria-label="Permalink to &quot;4.2.2  添加钩子&quot;">​</a></h3><p>我们还可以在husky文件夹下面新建precommit，我们写入</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/env sh</span></span>
<span class="line"><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">dirname</span><span style="color:#C3E88D;"> -- </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;font-style:italic;">$0</span><span style="color:#89DDFF;">&quot;)</span><span style="color:#C3E88D;">/_/husky.sh</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lint</span></span>
<span class="line"><span style="color:#FFCB6B;">是一样的效果</span></span></code></pre></div><p>校验名字-这玩意我写的贼牛皮-.husk//commit-msg</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/env python</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># coding=utf-8</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># commit msg check</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> sys</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> re</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> io</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">hasattr</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stdout</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">buffer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stdout</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> io</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">TextIOWrapper</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">buffer</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">TIPS_INFO </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">不符合commit规范,提交失败!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">commit规范:</span></span>
<span class="line"><span style="color:#C3E88D;">类型 详细消息-具体请看readme</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">规范样例：</span></span>
<span class="line"><span style="color:#C3E88D;">feat:类型是feat表示在代码库中新增了一个功能 git commit -m &quot;feat: 增加了xxx功能&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">！！！！提交失败！！！！</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">check_commit_line1_format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">msg</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">msg</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># regOther = r&#39;\\S{5,} (.){10,100}&#39; ^fix:|^feat: ((修复了)|(增加了))(.){2,100}功能</span></span>
<span class="line"><span style="color:#A6ACCD;">    regOther </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^fix</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">^feat</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">^docs</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">^style</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">^refactor</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">^test</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">^chore </span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">){1,100}&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    matchObj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> re</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">match</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">regOther</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> msg</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> matchObj</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> __name__</span><span style="color:#89DDFF;">==</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># print(&quot;进行lint扫描&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># os.system(&quot;npm run lint&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># print(&quot;进行audit扫描&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># os.system(&quot;npm audit&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--------husky校验中--------</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># print(sys)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">argv</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">],</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> line </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">check_commit_line1_format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">line</span><span style="color:#89DDFF;">)):</span></span>
<span class="line"><span style="color:#A6ACCD;">                sys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">TIPS_INFO</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                sys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="_4-9-项目常用" tabindex="-1">4.9 项目常用 <a class="header-anchor" href="#_4-9-项目常用" aria-label="Permalink to &quot;4.9 项目常用&quot;">​</a></h2><h3 id="_4-9-1-当开发的时候主分支有新东西要合并进来" tabindex="-1">4.9.1 当开发的时候主分支有新东西要合并进来 <a class="header-anchor" href="#_4-9-1-当开发的时候主分支有新东西要合并进来" aria-label="Permalink to &quot;4.9.1  当开发的时候主分支有新东西要合并进来&quot;">​</a></h3><p>我当前开发的分支再zp_dev,leader的主分支在dev。主分支有新东西要合并进来</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">有问题</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">显示</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Please</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changes</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">them</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">before</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">you</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">merge.然后</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stash</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 拉到现在的dev分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zp_dev</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pop</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stash</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 安全</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rebase</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 接着本地解决冲突，accept 更改，拉取共有的东西</span></span></code></pre></div><h3 id="_4-9-2-dev-没有-pull-到最新-然后进行开发" tabindex="-1">4.9.2 dev 没有 pull 到最新 然后进行开发 <a class="header-anchor" href="#_4-9-2-dev-没有-pull-到最新-然后进行开发" aria-label="Permalink to &quot;4.9.2 dev 没有 pull  到最新 然后进行开发&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 本地的有冲突</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">或者</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zp_dev</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rebase</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 解决冲突 此时 Git 会将 zp_dev 分支下最新提交的代码提取出来，将 dev 分支最新的代码应用到这个提交上，然后将结果提交到 zp_dev 分支上。如果有冲突需要解决，解决冲突后再使用 git add 命令添加修改，使用 git rebase --continue 命令继续执行合并操作。如果合并过程中发生问题导致代码出现错误，可以使用 git rebase --abort 命令撤销合并操作，并恢复到合并前的状态。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 5.当合并完成后，将合并结果推送到远程仓库：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zp_dev</span></span></code></pre></div><h2 id="_4-10-设置github-的-代理" tabindex="-1">4.10 设置github 的 代理 <a class="header-anchor" href="#_4-10-设置github-的-代理" aria-label="Permalink to &quot;4.10 设置github 的 代理&quot;">​</a></h2><h3 id="http" tabindex="-1">http <a class="header-anchor" href="#http" aria-label="Permalink to &quot;http&quot;">​</a></h3><p>v2ray 找到可以用的节点。然后 设置 =》 参数设置，然后</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http.https://github.com.proxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">socks5://127.0.0.1:10808</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 取消 代理</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--unset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http.proxy</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--unset</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">http.https://github.com.proxy</span></span></code></pre></div><h3 id="设置ssh代理-终极解决方案" tabindex="-1">设置ssh代理（终极解决方案） <a class="header-anchor" href="#设置ssh代理-终极解决方案" aria-label="Permalink to &quot;设置ssh代理（终极解决方案）&quot;">​</a></h3><p>https代理存在一个局限，那就是没有办法做身份验证，每次拉取私库或者推送代码时，都需要输入github的账号和密码，非常痛苦。 设置ssh代理前，请确保你已经设置ssh key。可以参考<a href="https://link.zhihu.com/?target=https%3A//tjfish.github.io/posts/%E5%9C%A8github%E4%B8%8A%E6%B7%BB%E5%8A%A0SSH-key/" target="_blank" rel="noreferrer">在 github 上添加 SSH key</a> 完成设置 更进一步是设置ssh代理。只需要配置一个config就可以了。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Linux、MacOS</span></span>
<span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/config</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Windows </span></span>
<span class="line"><span style="color:#FFCB6B;">到C:\\Users\\your_user_name\\.ssh目录下，新建一个config文件（无后缀名）</span></span></code></pre></div><p>将下面内容加到config文件中即可</p><p>对于windows用户，代理会用到connect.exe，你如果安装了Git都会自带connect.exe，如我的路径为C:\\APP\\Git\\mingw64\\bin\\connect</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">#Windows用户，注意替换你的端口号和connect.exe的路径</span></span>
<span class="line"><span style="color:#A6ACCD;">ProxyCommand &quot;C:\\APP\\Git\\mingw64\\bin\\connect&quot; -S 127.0.0.1:51837 -a none %h %p</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">#MacOS用户用下方这条命令，注意替换你的端口号</span></span>
<span class="line"><span style="color:#A6ACCD;">#ProxyCommand nc -v -x 127.0.0.1:51837 %h %p</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Host github.com</span></span>
<span class="line"><span style="color:#A6ACCD;">  User git</span></span>
<span class="line"><span style="color:#A6ACCD;">  Port 22</span></span>
<span class="line"><span style="color:#A6ACCD;">  Hostname github.com</span></span>
<span class="line"><span style="color:#A6ACCD;">  # 注意修改路径为你的路径</span></span>
<span class="line"><span style="color:#A6ACCD;">  IdentityFile &quot;C:\\Users\\Your_User_Name\\.ssh\\id_rsa&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  TCPKeepAlive yes</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Host ssh.github.com</span></span>
<span class="line"><span style="color:#A6ACCD;">  User git</span></span>
<span class="line"><span style="color:#A6ACCD;">  Port 443</span></span>
<span class="line"><span style="color:#A6ACCD;">  Hostname ssh.github.com</span></span>
<span class="line"><span style="color:#A6ACCD;">  # 注意修改路径为你的路径</span></span>
<span class="line"><span style="color:#A6ACCD;">  IdentityFile &quot;C:\\Users\\Your_User_Name\\.ssh\\id_rsa&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  TCPKeepAlive yes</span></span></code></pre></div><p>保存后文件后测试方法如下，返回successful之类的就成功了。</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"># 测试是否设置成功</span></span>
<span class="line"><span style="color:#A6ACCD;">ssh -T git@github.com</span></span></code></pre></div><h2 id="常见bug" tabindex="-1">常见bug <a class="header-anchor" href="#常见bug" aria-label="Permalink to &quot;常见bug&quot;">​</a></h2><h3 id="error-remote-origin-already-exists" tabindex="-1">error: remote origin already exists <a class="header-anchor" href="#error-remote-origin-already-exists" aria-label="Permalink to &quot;error: remote origin already exists&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">如果你clone下来一个别人的仓库，在此基础上完成你的代码，推送到自己的仓库可能遇到这问题。</span><span style="color:#FFCB6B;">error</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> remote origin already exists</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">表示远程仓库已存在。</span></span>
<span class="line"><span style="color:#A6ACCD;">因此你要进行以下操作：</span></span>
<span class="line"><span style="color:#89DDFF;">--</span><span style="color:#F78C6C;">1.1</span><span style="color:#A6ACCD;">、先输入git remote rm origin 删除关联的origin的远程库</span></span>
<span class="line"><span style="color:#89DDFF;">--</span><span style="color:#F78C6C;">1.2</span><span style="color:#A6ACCD;">、关联自己的仓库 git remote add origin </span><span style="color:#FFCB6B;">https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//gitee.com/xxxxxx.git</span></span>
<span class="line"><span style="color:#89DDFF;">--</span><span style="color:#F78C6C;">1.3</span><span style="color:#A6ACCD;">、最后git push origin master，这样就推送到自己的仓库了。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">git克隆下来只有master分支 看不见 也无法切换 其他分支</span></span>
<span class="line"><span style="color:#A6ACCD;">git branch </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">a</span></span>
<span class="line"><span style="color:#A6ACCD;">git checkout </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">t origin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">website_shibo_1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0.0</span><span style="color:#A6ACCD;"> 就可以了</span></span></code></pre></div><h2 id="规范" tabindex="-1">规范 <a class="header-anchor" href="#规范" aria-label="Permalink to &quot;规范&quot;">​</a></h2><p>目前行业最为广泛规范是 Conventional Commits[1] 很多项目包括 Auglar 也在使用。</p><p>可以根据以上规范制定适合自己团队的规范，例如：</p><p>JIRA-1234 feat: support for async execution</p><p>^-------^ ^--^: ^-------------------------^ | | | | | +--&gt; Summary in present tense. | | | +--&gt; Type: feat, fix, docs, style, refactor, perf, test or chore. | +--&gt; Jira ticket number</p><p>Type 类型必须是下面之一，并且为小写:</p><pre><code>feat: 修改/增加新功能
fix: 修改bug的变更
docs: 文档相关变更
style: 不影响代码含义的变更(空白、格式、缺少符号等)
refactor: 代码重构变更
perf: 改进性能的变更
test: 添加/修改现有的测试
chore: Build, .gitignore或辅助工具、库(如文档生成)等变更
</code></pre>`,82),e=[o];function t(c,r,i,y,C,D){return a(),n("div",null,e)}const h=s(p,[["render",t]]);export{F as __pageData,h as default};
