import{_ as s,o as a,c as n,R as l}from"./chunks/framework.408c4d71.js";const F=JSON.parse('{"title":"9.shell | CICD","description":"","frontmatter":{},"headers":[],"relativePath":"know/know/9shell.md","filePath":"know/know/9shell.md","lastUpdated":null}'),p={name:"know/know/9shell.md"},o=l(`<h1 id="_9-shell-cicd" tabindex="-1">9.shell | CICD <a class="header-anchor" href="#_9-shell-cicd" aria-label="Permalink to &quot;9.shell | CICD&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#_9-1-基础">9.1 基础</a><ul><li><a href="#_9-1-1-循环">9.1.1 循环</a></li><li><a href="#_9-1-2-数组">9.1.2 数组</a></li></ul></li><li><a href="#_9-2-实用">9.2 实用</a><ul><li><a href="#_9-2-1-查找当前文件夹-的-文件-写入">9.2.1 查找当前文件夹 的 文件 | 写入</a></li><li><a href="#_9-2-2-移动-复制-删除-重新命名">9.2.2 移动 复制 删除 重新命名</a></li><li><a href="#_9-2-3-查找文件">9.2.3 查找文件</a></li><li><a href="#_9-2-4-查找深度文件到当前的文件夹下面">9.2.4 查找深度文件到当前的文件夹下面</a></li></ul></li><li><a href="#_9-3-cicd">9.3 CICD</a></li></ul></nav><h2 id="_9-1-基础" tabindex="-1">9.1 基础 <a class="header-anchor" href="#_9-1-基础" aria-label="Permalink to &quot;9.1 基础&quot;">​</a></h2><h3 id="_9-1-1-循环" tabindex="-1">9.1.1 循环 <a class="header-anchor" href="#_9-1-1-循环" aria-label="Permalink to &quot;9.1.1 循环&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">请输入你想沟通的人数</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">n</span></span>
<span class="line"><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">((</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># do something</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">sleep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">当前沟通了: </span><span style="color:#A6ACCD;">$count</span><span style="color:#C3E88D;"> 人</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">((</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">++))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">sleep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">done</span></span></code></pre></div><h3 id="_9-1-2-数组" tabindex="-1">9.1.2 数组 <a class="header-anchor" href="#_9-1-2-数组" aria-label="Permalink to &quot;9.1.2  数组&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 1.数组声明 名称=(元素 元素 元素) =左右赋值的时候不用加空格 </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># &quot;&quot; 变成 变量 , &#39;&#39; 全部不是变量都是字符串</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ARRAY_NAME=(&quot;element_1st&quot; &quot;element_2nd&quot; &quot;element_3th&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 2.打印元素</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 2.1 打印所有 元素</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># echo \${ARRAY_NAME[@]}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 2.2 打印单个元素</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># echo \${ARRAY_NAME[0]}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 2.3 循环打印</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># for i in &quot;\${ARRAY_NAME[@]}&quot;; do </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># echo &quot;$i&quot;; </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">=()</span></span>
<span class="line"><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">+=(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件 &#39;%s&#39;\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">*</span><span style="color:#C3E88D;">.sh</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">]}</span></span></code></pre></div><h2 id="_9-2-实用" tabindex="-1">9.2 实用 <a class="header-anchor" href="#_9-2-实用" aria-label="Permalink to &quot;9.2  实用&quot;">​</a></h2><h3 id="_9-2-1-查找当前文件夹-的-文件-写入" tabindex="-1">9.2.1 查找当前文件夹 的 文件 | 写入 <a class="header-anchor" href="#_9-2-1-查找当前文件夹-的-文件-写入" aria-label="Permalink to &quot;9.2.1 查找当前文件夹 的 文件 | 写入&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">=()</span></span>
<span class="line"><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">+=(</span><span style="color:#A6ACCD;">*</span><span style="color:#C3E88D;">.sh</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">0</span><span style="color:#89DDFF;">]}</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">ARRAY_NAME</span><span style="color:#89DDFF;">[</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">]}&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># &gt; 是 强制覆写</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># &gt;&gt; 是 在尾部添加</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">#  $(date +%Y%m%d%H%M%S) 对应着年 月 日 时分秒</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$i</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">date</span><span style="color:#C3E88D;"> +%Y%m%d%H%M%S</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> </span><span style="color:#A6ACCD;">$count</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">output.txt</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">((</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">++))</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">done</span></span></code></pre></div><h3 id="_9-2-2-移动-复制-删除-重新命名" tabindex="-1">9.2.2 移动 复制 删除 重新命名 <a class="header-anchor" href="#_9-2-2-移动-复制-删除-重新命名" aria-label="Permalink to &quot;9.2.2 移动 复制 删除 重新命名&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello world</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 1.创造</span></span>
<span class="line"><span style="color:#FFCB6B;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">文件</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">目录名</span></span>
<span class="line"><span style="color:#FFCB6B;">sleep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 移动文件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 2. 命名 和 移动 文件 mv 文件  D:/cicd-test/目录名</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 重新命名</span></span>
<span class="line"><span style="color:#FFCB6B;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">文件</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">重新命名文件</span></span>
<span class="line"><span style="color:#FFCB6B;">mv</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">目录名/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">重新命名目录名/</span></span>
<span class="line"><span style="color:#FFCB6B;">sleep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6s after</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># rm 文件</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># rmdir 目录名</span></span></code></pre></div><h3 id="_9-2-3-查找文件" tabindex="-1">9.2.3 查找文件 <a class="header-anchor" href="#_9-2-3-查找文件" aria-label="Permalink to &quot;9.2.3 查找文件&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">find</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/xx</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xx.conf</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h3 id="_9-2-4-查找深度文件到当前的文件夹下面" tabindex="-1">9.2.4 查找深度文件到当前的文件夹下面 <a class="header-anchor" href="#_9-2-4-查找深度文件到当前的文件夹下面" aria-label="Permalink to &quot;9.2.4 查找深度文件到当前的文件夹下面&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">find </span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">exec mv </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">./</span><span style="color:#A6ACCD;"> \\</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="_9-3-cicd" tabindex="-1">9.3 CICD <a class="header-anchor" href="#_9-3-cicd" aria-label="Permalink to &quot;9.3 CICD&quot;">​</a></h2><div class="language-SH"><button title="Copy Code" class="copy"></button><span class="lang">SH</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># window 的扩展 ： https://www.azimiao.com/8040.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># step1 ： https://sourceforge.net/projects/gnuwin32/files/zip/3.0/ </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># step2 ： 找到 Git 文件夹下的usr/bin目录，将解压后bin里面的东西复制进去</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 提前 ssh 配置 一下</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ssh root@10.21.2.47 -p 222</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 第一个参数是 输出，第二个参数是输入</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test.js</span></span>
<span class="line"><span style="color:#FFCB6B;">zip</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">./dist.zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-P</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">222</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dist.zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root@10.21.2.47:/root/project</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 上传目录</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root@10.21.2.47</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">222</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">easyUnzip.sh</span></span></code></pre></div><p>easyUnzip.sh</p><div class="language-SH"><button title="Copy Code" class="copy"></button><span class="lang">SH</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 解压进行覆盖</span></span>
<span class="line"><span style="color:#FFCB6B;">unzip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/project/dist.zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/project/</span></span></code></pre></div>`,20),e=[o];function t(c,r,i,y,C,D){return a(),n("div",null,e)}const h=s(p,[["render",t]]);export{F as __pageData,h as default};
